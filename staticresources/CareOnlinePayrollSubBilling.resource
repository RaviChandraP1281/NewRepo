[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000GvHaAAK"},"Id":"a2f19000000GvHaAAK","Name":"CareOnlinePayrollSubBilling","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_CareOnlinePayrollSubBilling","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"true\" useviewportmeta=\"true\" showheader=\"true\"><models><model id=\"PayrollAssetDummyModel\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Account\"><fields><field id=\"Name\"/></fields><conditions><condition type=\"param\" value=\"companyID\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\" field=\"Name\"/></conditions><actions/></model><model id=\"Payrollwidgets\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"PayrollWidgetLinks__c\"><fields><field id=\"BillingAndFinancialInformation__c\"/><field id=\"SubscriptionFees_OtherCharges__c\"/></fields><conditions/><actions/></model><model id=\"BillingAndFinancialURL\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Account\"><fields><field id=\"Name\"/></fields><conditions/><actions/></model><model id=\"SubscriptionFeesURL\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Account\"><fields><field id=\"Name\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Name\" operator=\"=\" model=\"Payrollwidgets\" enclosevalueinquotes=\"true\" mergefield=\"SubscriptionFees_OtherCharges__c\" novaluebehavior=\"deactivate\"/></conditions><actions/></model></models><components><wrapper uniqueid=\"sk-2mouVK-130\"><components><wrapper uniqueid=\"BillingAndFinancialWrapperID\"><components><grid uniqueid=\"sk-2mp3h1-146\"><divisions><division behavior=\"flex\" minwidth=\"15px\" ratio=\"1\" verticalalign=\"top\"><components><template multiple=\"false\" uniqueid=\"sk-2mpGG_-174\" allowhtml=\"true\" cssclass=\"onclickToggleIcon\"><contents>&lt;span style=\"font-size:30px\" class=\"sk-icon fa-caret-down pointerFingerHover\"/&gt;</contents></template></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"29\" cssclass=\"onclickToggle\"><components><pagetitle uniqueid=\"sk-2mpLlY-189\" model=\"BillingAndFinancialURL\" cssclass=\"subpagetitle ShowTable\"><maintitle>&lt;span style=\"color: #0077c5; font-size:14px\" class=\"HoveroverUnderline pointerFingerHover\"&gt;\nBILLING AND FINANCIAL INFORMATION &lt;/span&gt;\n</maintitle><actions/></pagetitle></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid><wrapper uniqueid=\"BillingAndFinancialInsideWID\" cssclass=\"Togglesection\"><components><template multiple=\"false\" uniqueid=\"BillingAndFinancialTemplID\" model=\"BillingAndFinancialURL\" allowhtml=\"true\" cssclass=\"Template\"><contents>&lt;iframe id=\"iframeContentId\" src=\"{{#urlDecode}}{{Name}}{{/urlDecode}}\" frameborder=\"0\" marginheight=\"0\"\n                                                                                                    marginwidth=\"0\" seamless=\"seamless\" scrolling=\"no\" width=\"100%\" height=\"600px\" /&gt;</contents></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"bottom,right,left,\"><styles><styleitem property=\"padding-left\" value=\"40px\"/><styleitem property=\"padding-right\" value=\"40px\"/><styleitem property=\"padding-bottom\" value=\"40px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper><wrapper uniqueid=\"SubscriptionFeesWrapperID\" cssclass=\"Toggletables\"><components><grid uniqueid=\"sk-2mp3h1-146\"><divisions><division behavior=\"flex\" minwidth=\"15px\" ratio=\"1\" verticalalign=\"top\"><components><template multiple=\"false\" uniqueid=\"sk-2mpGG_-174\" allowhtml=\"true\" cssclass=\"onclickToggleIcon\"><contents>&lt;span style=\"font-size:30px\" class=\"sk-icon fa-caret-down pointerFingerHover\"/&gt;</contents></template></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"29\" cssclass=\"onclickToggle\"><components><pagetitle uniqueid=\"sk-2mpLlY-189\" model=\"SubscriptionFeesURL\" cssclass=\"subpagetitle HideTable\"><maintitle>&lt;span style=\"color: #0077c5; font-size:14px\" class=\"HoveroverUnderline pointerFingerHover\"&gt;\nSUBSCRIPTION FEES &amp; OTHER CHARGES &lt;/span&gt;</maintitle><actions/></pagetitle></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid><wrapper uniqueid=\"SubscriptionFeesInsideWID\" cssclass=\"Togglesection\"><components><template multiple=\"false\" uniqueid=\"SubscriptionFeesTemplID\" model=\"SubscriptionFeesURL\" allowhtml=\"true\" cssclass=\"Template\"><contents>&lt;iframe id=\"iframeContentId\" src=\"{{#urlDecode}}{{Name}}{{/urlDecode}}\" frameborder=\"0\" marginheight=\"0\"\n                                                                                                    marginwidth=\"0\" seamless=\"seamless\" scrolling=\"no\" width=\"100%\" height=\"350px\" /&gt;</contents></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"bottom,right,left,\"><styles><styleitem property=\"padding-left\" value=\"40px\"/><styleitem property=\"padding-right\" value=\"40px\"/><styleitem property=\"padding-bottom\" value=\"40px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper></components><resources><labels/><javascript><jsitem location=\"inline\" name=\"OnLoadJS\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t\t\n\t\t                \n\t\t                 var PayrollAssetDummyModel = skuid.$M('PayrollAssetDummyModel');  \n\t\t                 console.log('*****  PayrollAssetDummyModel *******' +PayrollAssetDummyModel);\n                         PayrollAssetDummyModel.createRow();\n                         var PayrollAssetModelrow = PayrollAssetDummyModel.getFirstRow();\n                         var PayrollCompanyID = PayrollAssetDummyModel.getFieldValue(PayrollAssetModelrow, 'Name');\n                         console.log('PayrollCompanyID  : ' +PayrollCompanyID);\n                         \n                         \n                        var payrollWidgetsModel = skuid.$M('Payrollwidgets');\n                        var payrollWidgetsFirstRow = payrollWidgetsModel.getFirstRow();\n                        var BillingURL = payrollWidgetsModel.getFieldValue(payrollWidgetsFirstRow,'BillingAndFinancialInformation__c');\n                        \n                        var reconstructParam = BillingURL + PayrollCompanyID;\n                        console.log('reconstructParam  : ' +reconstructParam);\n                        \n                        var BillingURLModel = skuid.$M('BillingAndFinancialURL');  \n                        BillingURLModel.abandonAllRows();\n                         var BillingURLDummyRow = {};\n                         var newRow = BillingURLModel.createRow();\n                         BillingURLDummyRow[newRow.Id] = ({ Name : reconstructParam\n\t\t\t\t\t\t        });\n                        BillingURLModel.updateRows(BillingURLDummyRow);\n                        \n        \t/***************** On page load hide the section ** Toggle off ** Toggletables  ******************************\n\t    *****************************************************************************************************************/ \n\t    \n\t\tskuid.$('.Toggletables').each(function(){\n\t\t     \n\t\t    var spanToggleicon = $(this).find('.fa-caret-down');\n\t\t    spanToggleicon.addClass(\"fa-caret-right\");\n\t\t    spanToggleicon.removeClass(\"fa-caret-down\");\n\t\t    var insideWrapper = $(this).find('.sk-wrapper').find('.sk-wrapper');\n\t\t     insideWrapper[0].style.display = 'none';\n\t\t    \n        }); \n        \n\t\t\n\t\t\t/***************** Toggle sections onclick ** onclickToggle ** Togglesection **  ******************************\n\t    *****************************************************************************************************************/ \n\n\t\tskuid.$( \".onclickToggleIcon\").click(function() {\n\t\t        \n\t\t        var togglecarret =  $( this );\n\t\t        var spanelement = togglecarret.find('span');\n\t\t        if(spanelement.hasClass(\"fa-caret-down\"))\n\t\t        {\n\t\t            spanelement.addClass(\"fa-caret-right\");\n\t\t            spanelement.removeClass(\"fa-caret-down\");\n\t\t            var wrapperspecific = $( this ).parents(':eq(3)');\n\t\t            var labelSection= wrapperspecific.find('.subpagetitle');\n\t\t            labelSection.addClass(\"HideTable\");\n            \t    labelSection.removeClass(\"ShowTable\");\n\t\t            wrapperspecific.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'none';\n\t\t        }\n\t\t        else if(spanelement.hasClass(\"fa-caret-right\"))\n\t\t        {\n\t\t            spanelement.addClass(\"fa-caret-down\");\n\t\t            spanelement.removeClass(\"fa-caret-right\");\n\t\t            var wrapperspecificr = $( this ).parents(':eq(3)');\n\t\t            var labelSectionshow= wrapperspecificr.find('.subpagetitle');\n\t\t            labelSectionshow.addClass(\"ShowTable\");\n            \t    labelSectionshow.removeClass(\"HideTable\");\n            \t    \n            \t    var thisComponent= wrapperspecificr.find('.Template');\n                    var CompId = thisComponent.attr('id');\n                    //var ModelName = skuid.$C(CompId).element[0].id;\n                    \n                    if(CompId !== 'BillingAndFinancialTemplID')\n                    {\n                        var ModelName = (CompId === 'BillingAndFinancialTemplID')? 'BillingAndFinancialURL' : (CompId === 'SubscriptionFeesTemplID')? 'SubscriptionFeesURL' : 'BillingAndFinancialURL';\n                        console.log('Main method ModelName : ' +ModelName);\n                        //var thisModel = skuid.model.getModel(ModelName);\n                        updateModel(ModelName);\n                    }\n                    \n\t\t            wrapperspecificr.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'block';\n\t\t           \n\t\t        }\n\t\t    \n                \n            });\n            \n            \n          skuid.$( \".subpagetitle\").click(function() {\n\t        \t  currentelement =  $( this );\n\t        \t  console.log('test this toggle  : ' +currentelement.hasClass(\"ShowTable\"));\n\t        \t  if(currentelement.hasClass(\"ShowTable\"))\n\t        \t  {\n\t            \t  currentelement.addClass(\"HideTable\");\n\t            \t  currentelement.removeClass(\"ShowTable\");\n\t    \t          thiswrapper = $( this ).parents(':eq(2)');\n\t    \t          console.log('thiswrapper  class : ' +thiswrapper.hasClass(\"sk-wrapper\"));\n\t    \t          var toggleicon = thiswrapper.find('.onclickToggleIcon');\n\t    \t          var spanToggleicon = toggleicon.find('span');\n\t    \t           spanToggleicon.addClass(\"fa-caret-right\");\n\t\t\t           spanToggleicon.removeClass(\"fa-caret-down\");\n\t    \t          thiswrapper.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'none';\n\t        \t  }\n\t        \t  else if(currentelement.hasClass(\"HideTable\"))\n\t        \t  {\n\t            \t  currentelement.addClass(\"ShowTable\");\n\t            \t  currentelement.removeClass(\"HideTable\");\n\t                  wrapperspecificr = $( this ).parents(':eq(2)');\n\t                  console.log('wrapperspecificr  class : ' +wrapperspecificr.hasClass(\"sk-wrapper\"));\n\t                  var toggleiconAdd = wrapperspecificr.find('.onclickToggleIcon');\n\t                  console.log('toggleiconAdd  class : ' +toggleiconAdd.hasClass(\"onclickToggleIcon\"));\n\t    \t          var spanToggleiconAdd = toggleiconAdd.find('span');\n\t    \t           spanToggleiconAdd.addClass(\"fa-caret-down\");\n\t\t\t           spanToggleiconAdd.removeClass(\"fa-caret-right\");\n\t\t\t           \n\t\t\t            var thisComponent= wrapperspecificr.find('.Template');\n\t                    var CompId = thisComponent.attr('id');\n\t                    var ModelName = skuid.$C(CompId).xmlDefinition[0].attributes.model.value;\n\t                    console.log('ModelName  : ' +ModelName);\n\t                    if(CompId !== 'PaystubsByDateTemplID')\n\t                    {\n\t                        if(skuid.$M(ModelName).getRows().length === 0)\n\t                        {\n\t                         updateModel(ModelName);\n\t                        }\n\t                    }\n\t                    console.log('I am at the last');\n\t\t\t            wrapperspecificr.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'block';\n\t        \t  }\n        });\n           \n\tfunction updateModel(ModelName)\n\t\t{\n\t\t                var PayrollAssetDummyModel = skuid.$M('PayrollAssetDummyModel');  \n                         var PayrollAssetModelrow = PayrollAssetDummyModel.getFirstRow();\n                         var PayrollCompanyID = PayrollAssetDummyModel.getFieldValue(PayrollAssetModelrow, 'Name');\n                         console.log('PayrollCompanyID  : ' +PayrollCompanyID);\n\n                        console.log('ModelName  : ' +ModelName);\n                        var GenericModel = skuid.$M(ModelName); \n                        GenericModel.abandonAllRows();\n                         var GenericModelDummyRow = {};\n                         var newRow = GenericModel.createRow();\n                          var GenericModelFirstRow = GenericModel.getFirstRow();\n                        var URL = GenericModel.getFieldValue(GenericModelFirstRow,'Name');\n                        reconstructParam = URL + PayrollCompanyID;\n                        console.log('UpdateModel reconstructParam  : ' +reconstructParam);\n                         GenericModelDummyRow[newRow.Id] = ({ Name : reconstructParam\n\t\t\t\t\t\t        });\n                        GenericModel.updateRows(GenericModelDummyRow);\n\t\t}\n\t});\n})(skuid);</jsitem></javascript><css><cssitem location=\"inline\" name=\"newcss\" cachelocation=\"false\">.fa-caret-down {\n    \n    color : #0077C5;\n}\n\n.fa-caret-right {\n    \n    color : #0077C5;\n}\n\n.onclickToggle\n{\n    position: relative;\n    left: -20px;\n    top: 0;\n}</cssitem></css></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]