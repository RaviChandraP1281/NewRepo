[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000DNIeAAO"},"Id":"a2f19000000DNIeAAO","Name":"StudyRequest","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_StudyRequest","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":"a2f19000000DNGdAAO","skuid__MasterPage__r":{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000DNGdAAO"},"Name":"StudioHome","skuid__UniqueId__c":"_StudioHome"},"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" theme=\"Intuit studio\"><models><model id=\"CaseContactInfo\" limit=\"\" query=\"false\" createrowifnonefound=\"true\" type=\"\" sobject=\"Case\" doclone=\"\" datasource=\"salesforce\"><fields><field id=\"Are_you_Hiring__c\" overridemetadata=\"false\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\"><picklistentries/></field><field id=\"Study_First_Name__c\"/><field id=\"Study_Last_Name__c\"/><field id=\"Study_Email__c\"/><field id=\"Study_Phone__c\"/><field id=\"Study_Goals__c\"/><field id=\"Study_Customer_Benefits__c\"/><field id=\"Strategic_Priority_Aligned__c\"/><field id=\"Study_Customer_Segment__c\"/><field id=\"Study_Products__c\"/><field id=\"Study_Name__c\"/><field id=\"Study_Start_Date__c\"/><field id=\"Study_Types__c\"/><field id=\"Study_IC_Facilitator_for_RP__c\"/><field id=\"Study_Number_of_Participants__c\"/><field id=\"Country_of_Study__c\"/><field id=\"Study_Location_of_Study__c\"/><field id=\"Study_Group__c\"/><field id=\"Study_Department__c\"/><field id=\"Study_Notes__c\"/><field id=\"Study_Participant_Attributes__c\"/><field id=\"Study_Status__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" defaultValue=\"Request submitted\"><picklistentries><entry value=\"Request submitted\" label=\"Request submitted\"/></picklistentries></field><field id=\"Request_Type__c\" overridemetadata=\"true\" ogdisplaytype=\"PICKLIST\" displaytype=\"PICKLIST\" defaultValue=\"Study Request\" readonly=\"false\"><picklistentries><entry value=\"Study Request\" label=\"Study Request\"/></picklistentries></field><field id=\"Owner.Name\"/><field id=\"secondary_contact__c\"/><field id=\"Owner.Id\" overridemetadata=\"false\" ogdisplaytype=\"ID\" displaytype=\"ID\" readonly=\"false\"/><field id=\"Study_Company__c\"/><field id=\"Secondary_Contact_Name__c\"/><field id=\"IntuitOrganization__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Owner.Id\" operator=\"=\" model=\"StudioTeamMembers\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\" state=\"off\" inactive=\"true\"/></conditions><actions/></model><model id=\"StudioTeamMembers\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"Studio_Team_Members__c\"><fields><field id=\"Id\"/><field id=\"Name\"/><field id=\"Email__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"true\" enclosevalueinquotes=\"false\" field=\"Studio_Head__c\"/></conditions><actions><action><actions><action type=\"requeryModels\" behavior=\"standard\"><models><model>UserModel</model></models></action></actions><events><event>row.created</event></events></action></actions></model><model id=\"UserModel\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"User\"><fields/><conditions><condition type=\"modelmerge\" value=\"\" field=\"Email\" operator=\"=\" model=\"StudioTeamMembers\" enclosevalueinquotes=\"true\" mergefield=\"Email__c\" novaluebehavior=\"deactivate\" state=\"\" inactive=\"false\"/></conditions><actions/></model></models><pageregioncontents><pageregioncontent regionid=\"sk-Ztodg-231\" uniqueid=\"sk-1Lrfpi-95\"><components><template multiple=\"false\" uniqueid=\"sk-3b5qyW-204\" allowhtml=\"true\"><contents>&lt;a href=\"/apex/skuid__ui?page=StudioLandingPage\"&gt;Home&lt;/a&gt; &gt; Specialized Recruiting</contents></template><grid uniqueid=\"sk-2tmAzH-200\"><divisions><division behavior=\"flex\" minwidth=\"15%\" ratio=\"1\" verticalalign=\"top\"><components/></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"70%\" ratio=\"1\"><components><template multiple=\"false\" uniqueid=\"sk-1p-APi-559\" model=\"CaseContactInfo\" allowhtml=\"true\"><contents>&lt;spam style=\"color:red\"&gt;&lt;b&gt;Note: All fields are required.&lt;/b&gt;&lt;/spam&gt; </contents></template><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"CaseContactInfo\" buttonposition=\"\" uniqueid=\"sk-1Luka_-121\" mode=\"edit\" layout=\"\" cssclass=\"studyRequestFieldEditor\" showerroronhover=\"false\"><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"Administrative Information\" collapsible=\"no\" cssclass=\"sectionHeader\"><fields><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" allowhtml=\"true\" readonly=\"true\" cssclass=\"\"><label>Are you the person conducting the study?</label><template>&lt;div class=\"btn-group\" role=\"group\" aria-label=\"Are you the person conducting the study?\"&gt;\n\t&lt;button type=\"button\" class=\"btn btn-default yes-btn\" onclick=\"addYesNoClickEvents('Yes','yes-btn','no-btn')\"&gt;YES&lt;/button&gt;\n\t&lt;button type=\"button\" class=\"btn btn-default no-btn\" onclick=\"addYesNoClickEvents('No','no-btn','yes-btn')\"&gt;NO&lt;/button&gt;\n&lt;/div&gt;</template></field><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" readonly=\"true\" cssclass=\"no-messege\"><template>Who is the person conducting this study?</template></field><field id=\"Study_First_Name__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"required-mark  infoFromSSO\"><label>First Name</label><renderconditions logictype=\"custom\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"Study_Last_Name__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"infoFromSSO\"><label>Last Name</label></field><field id=\"Study_Email__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"infoFromSSO\"><label>Email</label></field><field id=\"Study_Phone__c\" valuehalign=\"\" type=\"\" cssclass=\"phone\"/><field id=\"IntuitOrganization__c\" valuehalign=\"\" type=\"\"/><field id=\"Secondary_Contact_Name__c\" valuehalign=\"\" type=\"\"><label>Secondary Contact Name (Optional)</label></field><field id=\"secondary_contact__c\" showhelp=\"true\" valuehalign=\"\" type=\"\"><label>Secondary Contact Email (Optional)</label></field></fields><renderconditions logictype=\"and\"/></section></sections></column><column width=\"100%\" cssclass=\"study_details\"><sections><section title=\"Study Details\" collapsible=\"no\" cssclass=\"sectionHeader\"><fields><field id=\"Study_Goals__c\" valuehalign=\"\" type=\"\" displayrows=\"3\" cssclass=\"tryToLearn \" snippet=\"\" readonly=\"false\" required=\"true\"><label>What are you trying to learn?</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"Strategic_Priority_Aligned__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>What strategic priority(s) does this align to?</label></field><field id=\"Study_Customer_Benefits__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>What customer benefit(s) does this align to?</label></field><field id=\"Study_Customer_Segment__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>What customer(s) do you want to talk to?</label></field><field id=\"Study_Products__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>What product(s) is this study focused on?</label></field><field id=\"Study_Name__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>Name of Study</label></field><field id=\"Study_Start_Date__c\" valuehalign=\"\" type=\"\" required=\"true\" monthpicker=\"true\" yearpicker=\"true\" yearpickermin=\"c-1\" yearpickermax=\"c+5\" cssclass=\"StartDate \" showhelp=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"custom\" logic=\"start\"/><label>Start date of Study</label></field><field id=\"Study_Types__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\" addnoneoption=\"true\"><label>Type of study</label></field><field id=\"Study_IC_Facilitator_for_RP__c\" valuehalign=\"\" type=\"\"><label>Who is your IC Facilitating?</label><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"CaseContactInfo\" sourcetype=\"fieldvalue\" field=\"Study_Types__c\" value=\"Rapid Prototyping\"/></renderconditions><enableconditions logictype=\"and\"/></field><field id=\"Study_Number_of_Participants__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\" addnoneoption=\"true\"><label>Number of Research Participants</label></field><field id=\"Study_Participant_Attributes__c\" valuehalign=\"\" type=\"\" cssclass=\"researchPartAtrri \" displayrows=\"2\" required=\"true\"><label>Research Participant Attributes</label></field></fields></section></sections></column><column width=\"100%\"><sections><section title=\"Location Information\" collapsible=\"no\" cssclass=\"sectionHeader\"><fields><field id=\"Country_of_Study__c\" valuehalign=\"\" type=\"\" readonly=\"false\" required=\"true\" cssclass=\"\" addnoneoption=\"true\"><label>Country of Study</label></field><field id=\"Study_Location_of_Study__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"\"><label>Location of Study</label></field></fields></section></sections></column><column width=\"100%\"><sections><section title=\"Who is Paying for This Study ?\" collapsible=\"no\" cssclass=\"whoIsPayingHeader sectionHeader\"><fields><field id=\"Study_Company__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"infoFromSSO\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field><field id=\"Study_Group__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"infoFromSSO\"><label>Group</label></field><field id=\"Study_Department__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"infoFromSSO\"><label>Department</label></field></fields><renderconditions logictype=\"and\"/></section></sections></column><column width=\"100%\"><sections><section title=\"Notes\" collapsible=\"no\" cssclass=\"sectionHeader\"><fields><field id=\"Study_Notes__c\" valuehalign=\"\" type=\"\" displayrows=\"4\" required=\"true\" cssclass=\"\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"/></field></fields><renderconditions logictype=\"and\"/></section></sections></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor><pagetitle model=\"CaseContactInfo\" uniqueid=\"sk-1M2Lv1-610 titlePage\"><actions><action type=\"redirect\" label=\"Cancel\" window=\"parent\" afterCancel=\"/apex/skuid__ui?page=StudioLandingPage\" url=\"/apex/skuid__ui?page=StudioLandingPage\" cssclass=\"cancelButton cancelColor\"><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action><action type=\"multi\" label=\"Submit\" window=\"self\" rollbackonanyerror=\"true\" afterSave=\"/apex/skuid__ui?page=ThankYou_test\" cssclass=\"submitButton nextColor\"><hotkeys/><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/><actions><action type=\"custom\" snippet=\"DateFieldValidation\"/><action type=\"save\" rollbackonanyerror=\"true\"><models><model>CaseContactInfo</model></models></action><action type=\"redirect\" window=\"self\" url=\"/apex/skuid__ui?page=ThankYou\"><popup title=\"Your study request has been submitted.\" width=\"50%\"><components><richtext multiple=\"false\" uniqueid=\"sk-1kwadx-1527\" model=\"CaseContactInfo\"><contents>&lt;p&gt;&lt;strong&gt;&lt;span style=\"font-size:18px;\"&gt;Within 24 hours a recruiter will send you an&amp;nbsp;invite for a Kick Off meeting to discuss your&amp;nbsp;request in more detail.&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;\n</contents></richtext></components><afterclose><action type=\"redirect\" window=\"self\" url=\"/apex/skuid__ui?page=StudioLandingPage\"/></afterclose></popup></action></actions></action></actions><renderconditions logictype=\"and\"/></pagetitle></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"15%\" ratio=\"1\"><components/></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components></pageregioncontent></pageregioncontents><components/><resources><labels/><css><cssitem location=\"inline\" name=\"studyRequestCss\" cachelocation=\"false\" url=\"\" namespace=\"\">body{\n    font-family: 'Helvetica';\n}\n.nextColor{\n    background: #f0640f !important;\n    border: 1px solid #f0640f !important;\n    color: white;\n}\n.cancelColor{\n    background: lightgray !important;\n    border: 1px solid lightgray !important;\n    color: white !important;\n}\n.nx-field.nx-modified.required .hasDatepicker{\n    width:7em;\n}\n\n.alert-info {\n    font-size: 13px;\n   background-color: #98bae6;  \n    border-color: #aee8f1;\n    color: #393a3d;\n    border-radius: 5px;\n    margin-top: 5px;\n    padding: 10px;\n}\n\n\n\ndiv.StartDate div input.hasDatepicker {\n    width: 134px !important;\n}\n\n.questionMarkIcon{\n    height: 14px;\n    width: 14px;\n    background: rgba(255, 255, 255,1);\n    border-radius: 100%;\n    color: #393a3d;\n    padding-left: 4px;\n    padding-right: 4px;\n    text-align: center;\n}\n\n\n.nx-messages{\n    display: none !important;\n}\n\n\n.nx-editor input,.nx-editor .required input, .nx-editor .required textarea,.nx-editor select,.nx-editor .required select,.nx-editor .required [type=button].ui-multiselect,.nx-editor .required select,.nx-editor [type=button].ui-multiselect{\n   border: 1px solid #c7c7cc;  \n   border-radius: 4px;\n   background-color: #ffffff;\n}\n\n.nx-field:focus, .nx-field input:focus, .nx-field textarea:focus {\n    border-color: #548dd4;\n    outline: 0;\n    outline-offset: -2px;\n}\n\n.nx-error-inline{\n    display: block;\n}\n</cssitem></css><javascript><jsitem location=\"inline\" name=\"YesNoButtonAndStartDateValidation\" cachelocation=\"false\" url=\"\">var $ = skuid.$;\nvar buttonProperty;\n$(document).ready(function(){\n    buttonProperty = ['Yes','yes-btn','no-btn'];\n    updaeAreyouHiring('Yes');\n    $j('.yes-btn').css('border', '2px solid #548dd4').css('background', '#e3e3e3');\n    $j('.no-btn').css('background', '#fff');\n    $('.no-messege').hide();\n    setYesNoButtonValueChangeEvent();\n    setOwnerId();\n});\n\nfunction setOwnerId(){\n    var studyRequestModel = skuid.model.getModel('CaseContactInfo');\n    var UserModel = skuid.model.getModel('UserModel');\n    $.each(studyRequestModel.data,function(i,row){\n        studyRequestModel.updateRow(row,{\n            OwnerId: UserModel.getFirstRow().Id\n        });\n    });\n}\n\n\nfunction updaeAreyouHiring(value){\n    var contactInfoModal = skuid.model.getModel('CaseContactInfo');\n    var data = {};\n    if(value == 'Yes'){\n        data = JSON.parse($.cookie('userInformation'));\n    }else{\n        data['givenname'] = '';\n        data['familyname'] = '';\n        data['mail'] = '';\n        data['intuitcompanydisplay'] = '';\n        data['intuitgroupdisplay'] = '';\n        data['intuitdepartmentdisplay'] = '';\n        $('.infoFromSSO input').removeAttr('disabled');\n    }\n    $.each(contactInfoModal.data,function(i,row){\n        contactInfoModal.updateRow(row,{\n            Are_you_Hiring__c: value,\n            Study_First_Name__c:data['givenname'],\n            Study_Last_Name__c:data['familyname'],\n            Study_Email__c:data['mail'],\n            Study_Company__c:data['intuitcompanydisplay'],\n            Study_Group__c:data['intuitgroupdisplay'],\n            Study_Department__c:data['intuitdepartmentdisplay']\n        });\n        if(value == 'Yes'){\n            $('.infoFromSSO input').attr('disabled','disabled');\n            if(typeof data['workphone'] == 'undefined' || data['workphone'] == ''){\n                $('.phone input').removeAttr('disabled');\n            }\n        }\n    });\n}\n\nfunction setYesNoButtonValueChangeEvent(){\n    skuid.events.subscribe('row.updated',function(updateResult){\n        if (updateResult.modelId === \"CaseContactInfo\") {\n            setYesNoButtonUI(buttonProperty[0],buttonProperty[1],buttonProperty[2]);\n        }\n        if((updateResult.modelId === 'CaseContactInfo')&amp;&amp;(typeof updateResult.updates.Study_Start_Date__c!==\"undefined\")) {\n            $('.customDateError').remove();\n            var startDate = new Date(skuid.model.getModel('CaseContactInfo').getFirstRow().Study_Start_Date__c);\n            startDate.setHours(0,0,0,0);\n            var currDate = new Date();\n            currDate.setHours(0,0,0,0);\n            \n            \n            if(currDate &gt; startDate){\n                $('.StartDate .nx-modified.required').prepend('&lt;div class=\"nx-error-inline customDateError\"&gt;Start date must be at least 10 days from today&lt;/div&gt;');\n            }\n            else\n            {\n                currDate.setUTCDate(currDate.getUTCDate()+10);\n                console.log(currDate &gt; startDate);\n                if(currDate &gt; startDate){\n                    $('.StartDate .nx-modified.required').prepend('&lt;div class=\"nx-error-inline customDateError\"&gt;Start date must be at least 10 days from today&lt;/div&gt;');\n                }\n            }\n        }\n    });\n   /* skuid.events.subscribe('models.saved',function(updateResult){\n       if (typeof updateResult.models.CaseContactInfo != \"undefined\") {\n            setYesNoButtonUI(buttonProperty[0],buttonProperty[1],buttonProperty[2]);\n       }});\n     */  \n       skuid.events.subscribe('models.saved',function(saveResult){\n          console.log(\"Printing saveResult.totalsuccess \"+saveResult.totalsuccess);\n          \n          if(!saveResult.totalsuccess){\n    //          $(\".StartDate div.nx-field.nx-modified.required span\").remove();\n    //          $(\".StartDate div.nx-field.nx-modified.required\").append(\" &lt;span class='startdateError'&gt;&amp;nbspStart date must be at least 10 business days from today&lt;/span&gt;\").css(\"color\",\"red\");\n                setYesNoButtonUI(buttonProperty[0],buttonProperty[1],buttonProperty[2]);\n                \n            } \n       });\n   \n}\n\nfunction setYesNoButtonUI(value,showClass,hideClass){\n\tif(value === 'No'){\n\t\t$('.no-messege').show();\n\t\t$('.study-requestor-info-div').css('display', 'block');\n\t}else{\n\t\t$('.no-messege').hide();\n\t\t$('.study-requestor-info-div').css('display', 'block');\n\t}\n\t$('.'+showClass).css('border', '2px solid #548dd4').css('background', '#e3e3e3');\n\t$('.'+hideClass).css('border', '1px solid #b5b5b5').css('background', '#fff');\n}\n\nfunction addYesNoClickEvents(value,showClass,hideClass){\n    buttonProperty[0] = value;\n    buttonProperty[1] = showClass;\n    buttonProperty[2] = hideClass;\n\tupdaeAreyouHiring(value);\n}</jsitem><jsitem location=\"inline\" name=\"StudyRequestIndexpage\" cachelocation=\"false\" url=\"\">var $ = skuid.$;\nvar buttonProperty;\n$(document).ready(function(){\n\n    \n    //what are you trying to learn Placeholder,Research Participant Attributes placeholder\n    placeholderfunction();\n    \n     //Who is Paying for This Study? help button\n    var htmlForStudyHeader = 'Who is Paying for This Study?&lt;span  onclick=\"$(\\'.alert-info\\').toggle()\"&gt;'\n        +'&amp;nbsp;&amp;nbsp;&lt;span class=\"questionMarkIcon\"&gt;&lt;b&gt;?&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;div class=\"alert-info\" role=\"alert\" '\n        +'style=\"display: none;\"&gt;&lt;p&gt;'\n        +'The Studio covers some of the compensation for certain types of sessions but we require a Company, Group, Department in case something is not covered. '\n        +'You can discuss further with the recruiter assigned to your study. '\n        +'You can find Company, Group, Department by searching for the person on Insight, and clicking on View more details.'\n        +'&lt;/p&gt;&lt;/div&gt;';\n    $(\".whoIsPayingHeader div.nx-basicfieldeditor-section-header\").html(htmlForStudyHeader);\n    \n\n  // Condition text on start business day field\n //  $(\".StartDate div.nx-field.nx-modified.required\").append(\" &lt;span class='startdateError'&gt;&amp;nbspStart date must be at least 10 business days from today&lt;/span&gt;\").css(\"color\",\"red\");\n\n});\n\n\nfunction placeholderfunction(){\n    $('.tryToLearn textarea').attr(\"placeholder\", \"We want to learn what the level of engagement is when TurboTax and QBSE are integrated with each other. Is it something people will use? How will they feel about it?  Will they use it year round?\");\n    $('.researchPartAtrri textarea').attr(\"placeholder\",\"People who are self-employed and use TurboTax to file their taxes, but not using QBSE.\");\n}\n</jsitem><jsitem location=\"inlinesnippet\" name=\"DateFieldValidation\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nif($('.customDateError') !== null &amp;&amp; $('.customDateError').size() &gt; 0){\n console.log('dateValidationfield');\n    return false;\n}\n</jsitem></javascript></resources></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]