[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000DQ1CAAW"},"Id":"a2f19000000DQ1CAAW","Name":"PartStudyPage","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_PartStudyPage","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"\" personalizationmode=\"server\" showsidebar=\"true\" showheader=\"true\" tabtooverride=\"Study_Participant__c\" theme=\"Intuit studio\"><models><model id=\"Study\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Study__c\" datasource=\"salesforce\"><fields><field id=\"Id\"/><field id=\"Name\"/><field id=\"Request_Type__c\"/><field id=\"First_Name__c\"/><field id=\"Last_Name__c\"/><field id=\"Recruiter_First_Name__c\"/><field id=\"Recruiter_Last_Name__c\"/></fields><conditions><condition type=\"param\" value=\"study\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"participant\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Participants__c\" datasource=\"salesforce\"><fields><field id=\"Id\"/><field id=\"Name\"/><field id=\"Last_Name__c\"/></fields><conditions><condition type=\"param\" value=\"part\" operator=\"=\" field=\"Id\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"StudyParticipant\" limit=\"1\" query=\"false\" createrowifnonefound=\"true\" sobject=\"Study_Participant__c\" type=\"\" datasource=\"salesforce\"><fields><field id=\"Name\"/><field id=\"Compensation_amount__c\"/><field id=\"Compensation_to_be_paid_by__c\"/><field id=\"Confirmation_Counter__c\"/><field id=\"Participant__c\"/><field id=\"Participant__r.Name\"/><field id=\"Participant_Study_Location__c\"/><field id=\"Study__c\"/><field id=\"Study__r.Name\"/><field id=\"Override_compensation_at_study_level__c\"/><field id=\"Currency_of_compensation__c\"/><field id=\"Location__c\"/><field id=\"Id\"/><field id=\"Study__r.Id\"/><field id=\"returl\" uionly=\"true\" displaytype=\"FORMULA\" readonly=\"true\" returntype=\"TEXT\" label=\"returl\"><formula>IF({{Study__c}} !='',{{Study__c}},IF({{Participant__c}} !='',{{Participant__c}},''))</formula></field><field id=\"Notes__c\"/><field id=\"Access_Code__c\"/><field id=\"Call_in_Number__c\"/><field id=\"Screen_Sharing_URL__c\"/><field id=\"Confirmation_of_participant__c\"/><field id=\"Attended_Study__c\"/><field id=\"Participant__r.Last_Name__c\"/><field id=\"Blue_Jeans__c\"/><field id=\"Study__r.Request_Type__c\"/><field id=\"Study__r.First_Name__c\"/><field id=\"Study__r.Last_Name__c\"/><field id=\"Study__r.Recruiter_First_Name__c\"/><field id=\"Study__r.Recruiter_Last_Name__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"StudyParticipant\" field=\"Study__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.Study.data.0.Id}}\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"StudyParticipant\" field=\"Participant__c\" enclosevalueinquotes=\"true\" value=\"{{$Model.participant.data.0.Id}}\" affectedrows=\"context\"/><action type=\"updateRow\" fieldmodel=\"StudyParticipant\" value=\"{{$Model.participant.data.0.Id}}\" field=\"Participant__c\" enclosevalueinquotes=\"true\" affectedrows=\"context\"/></actions><events><event>row.created</event></events></action><action><actions><action type=\"setCondition\" model=\"RequestTypeCheck\" condition=\"Id\" value=\"{{Study__r.Id}}\"/><action type=\"requeryModel\" model=\"RequestTypeCheck\" behavior=\"standard\"/></actions><events><event>row.updated</event></events><fields><field>Study__c</field></fields></action></actions></model><model id=\"StudyDetails\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Study__c\" datasource=\"salesforce\"><fields><field id=\"Recruiter_First_Name__c\"/><field id=\"Name\"/><field id=\"Recruiter_Last_Name__c\"/><field id=\"Id\"/><field id=\"Recruiter__c\"/><field id=\"Recruiter__r.Name\"/><field id=\"Request_Type__c\"/></fields><conditions><condition type=\"userinfo\" value=\"\" field=\"Recruiter__r.Id\" operator=\"=\" enclosevalueinquotes=\"true\" userinfotype=\"userid\"/></conditions><actions/></model><model id=\"RequestTypeCheck\" limit=\"1\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Study__c\"><fields><field id=\"Id\"/><field id=\"Request_Type__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"\" enclosevalueinquotes=\"true\" field=\"Id\" operator=\"=\" state=\"filterableoff\" inactive=\"true\" name=\"Id\"/></conditions><actions/></model><model id=\"Notes\" limit=\"\" query=\"false\" createrowifnonefound=\"true\" datasource=\"salesforce\" type=\"\" sobject=\"Note\"><fields><field id=\"Body\"/><field id=\"CreatedById\"/><field id=\"CreatedBy.Name\"/><field id=\"CreatedDate\"/><field id=\"LastModifiedById\"/><field id=\"LastModifiedBy.Name\"/><field id=\"LastModifiedDate\"/><field id=\"Id\"/><field id=\"IsPrivate\"/><field id=\"Title\"/><field id=\"ParentId\"/></fields><conditions/><actions/></model></models><components><wrapper uniqueid=\"sk-24WnXH-148\"><components><grid uniqueid=\"sk-24WqQo-155\"><divisions><division behavior=\"flex\" minwidth=\"100px\" ratio=\"1\" verticalalign=\"top\"><components><pagetitle model=\"StudyParticipant\" uniqueid=\"sk-24X64t-175\"><actions/><maintitle>Add a new Participant</maintitle></pagetitle></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"1\"><components><pagetitle model=\"StudyParticipant\" uniqueid=\"sk-24VrEY-91\"><actions><action type=\"multi\" afterCancel=\"/{{Model.KeyPrefix}}/o\" afterSave=\"/{{Id}}\" rollbackonanyerror=\"true\" label=\"Save\" window=\"self\"><models/><actions><action type=\"save\" rollbackonanyerror=\"true\"><models><model>StudyParticipant</model></models></action><action type=\"custom\" rollbackonanyerror=\"true\" snippet=\"insertUpdateNote\"><models><model>StudyParticipant</model></models></action><action type=\"redirect\" window=\"self\" url=\"/{{Study__c}}\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></action><action type=\"multi\" label=\"Cancel\"><actions><action type=\"redirect\" window=\"self\" url=\"/{{returl}}\"/></actions></action></actions></pagetitle></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"1\"><components/></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"1\"><components/></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid><basicfieldeditor showsavecancel=\"false\" showheader=\"true\" model=\"StudyParticipant\" mode=\"edit\" uniqueid=\"sk-24VrEY-92\" buttonposition=\"\" layout=\"\"><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"Participant Details\" collapsible=\"no\" showheader=\"true\"><fields><field type=\"COMBO\" valuehalign=\"\" editmodebehavior=\"autopopup\" allowhtml=\"false\" readonly=\"true\"><label>Participant</label><template>{{Participant__r.Name}} {{Participant__r.Last_Name__c}}</template><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></field><field id=\"Participant__c\" valuehalign=\"\" type=\"\" optionsource=\"\" displaytemplate=\"\" searchtemplate=\"\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/><searchfields/><filters/></field><field id=\"Study__c\" valuehalign=\"\" type=\"\" readonly=\"true\" optionsource=\"\" displaytemplate=\"\" pagesize=\"5\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Study__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions logictype=\"and\"/><searchfields/><filters/></field><field id=\"Study__c\" valuehalign=\"\" type=\"\" optionsource=\"\" cssclass=\"\" snippet=\"\" pagesize=\"5\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Study__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions logictype=\"and\"/><searchfields usesosl=\"false\" soslfields=\"Name Fields\"><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"Name\" operator=\"contains\"/><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"Recruiter_First_Name__c\" operator=\"contains\"/><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"Recruiter_Last_Name__c\" operator=\"contains\"/><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"First_Name__c\" operator=\"contains\"><label>Requester First Name</label></searchfield><searchfield query=\"true\" return=\"true\" show=\"true\" field=\"Last_Name__c\" operator=\"contains\"><label>Requester Last Name</label></searchfield></searchfields><filters><filter type=\"userinfo\" operator=\"=\" field=\"Recruiter__c\" value=\"\" enclosevalueinquotes=\"true\" userinfotype=\"userid\"/></filters></field><field id=\"Participant_Study_Location__c\" valuehalign=\"\" type=\"\" required=\"true\" addnoneoption=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"Blue_Jeans__c\" valuehalign=\"\" type=\"\" required=\"true\" cssclass=\"blueJeans\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\" logic=\"1 AND 2\"><rendercondition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"RequestTypeCheck\" sourcetype=\"fieldvalue\" sourcesnippet=\"abc\" sourceproperty=\"isNew\" operator=\"=\" field=\"Request_Type__c\" value=\"Office Hours\" nosourcerowbehavior=\"skipandnorender\"/></renderconditions><enableconditions logictype=\"and\"><condition type=\"blank\" operator=\"!=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Study__c\" value=\"null\" enclosevalueinquotes=\"false\"/></enableconditions></field><field id=\"Call_in_Number__c\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant_Study_Location__c\" value=\"Remote - Phone Only Meeting\"/></renderconditions><enableconditions/></field><field id=\"Access_Code__c\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant_Study_Location__c\" value=\"Remote - Phone Only Meeting\"/></renderconditions><enableconditions/></field><field id=\"Location__c\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant_Study_Location__c\" value=\"Offsite\" enclosevalueinquotes=\"true\"/></renderconditions><enableconditions logictype=\"and\"/></field><field id=\"Screen_Sharing_URL__c\" valuehalign=\"\" type=\"\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Participant_Study_Location__c\" value=\"Remote - Screen Sharing\"/></renderconditions><enableconditions/></field><field id=\"Notes__c\" valuehalign=\"\" type=\"\" cssclass=\"\" displayrows=\"4\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"Attended_Study__c\" valuehalign=\"\" type=\"\"/><field id=\"Override_compensation_at_study_level__c\" valuehalign=\"\" type=\"\"/></fields></section><section title=\"Compensation Detalis\" collapsible=\"no\" showheader=\"true\"><fields><field id=\"Compensation_to_be_paid_by__c\" valuehalign=\"\" type=\"\" readonly=\"false\" required=\"true\"/><field id=\"Compensation_amount__c\" decimalplaces=\"\" valuehalign=\"\" type=\"\" required=\"true\"/><field id=\"Currency_of_compensation__c\" valuehalign=\"\" type=\"\" required=\"true\" addnoneoption=\"false\"/></fields><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"false\" fieldmodel=\"StudyParticipant\" sourcetype=\"fieldvalue\" field=\"Override_compensation_at_study_level__c\" value=\"true\"/></renderconditions></section></sections><renderconditions logictype=\"and\"/></column></columns><renderconditions logictype=\"and\"/></basicfieldeditor></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components><resources><labels/><css/><javascript><jsitem location=\"inlinesnippet\" name=\"renderBlueJeans\" cachelocation=\"false\" url=\"\">var params = arguments[0],\n\t$ = skuid.$;\n\t\nvar studyModel= skuid.model.getModel('StudyDetails');\nvar studyPartModel= skuid.model.getModel('StudyParticipant');\nvar requestType='';\n$(document).ready(function(){\nif(studyPartModel.data.length&gt;0 )//&amp;&amp; (studyPartModel.data[0].Study__r!=''||studyPartModel.data[0].Study__r!=undefined)\n{\n //   console.log(studyPartModel.data[0].Study__r);\n \n    var obj=studyPartModel.data[0].Study__r;\n   \n    if(obj!=undefined &amp;&amp; obj!=''){\n    if(studyModel.data.length&gt;0){\n        //    console.log(studyPartModel.data);\n            $.each(studyModel.data, function(i,studyRow){\n            //    console.log(studyRow);\n                if(studyRow.Id==obj.Id){\n                    requestType=studyRow.Request_Type__c;\n                      \n                      if(requestType=='Office Hours')\n                      {\n                          studyPartModel.fields[21].required = true;\n                     //     console.log('Request type is: '+requestType);\n                         \n                           // SRS-509\n                           return true;\n                          $('.blueJeans').show();\n                      /*    //$('.blueJeans').css('display','block');\n                           \n                                                 \n                            row = studyPartModel.getFirstRow();\n                        \n                            // Creating an editor is for advanced scenarios... you typically set this to null\n                            var editor = null;\n                        \n                            // Create a new skuid.ui.Field corresponding to the 'MailingCity' field\n                            var f = new skuid.ui.Field(\n                            row,\n                            studyPartModel,\n                            editor,\n                            {\n                                fieldId: 'Blue_Jeans__c',\n                                register: true\n                            }\n                        );\n                        \n                        // Render the field, running the corresponding field renderer logic\n                        // using the metadata Skuid finds for the 'MailingCity' field.\n                        f.render();\n                                                 \n                         \n                        return true; \n                      }\n                      else{\n                          return false; */\n                      }\n                  }\n                \n            });\n     }\n    }\n}\n});</jsitem><jsitem location=\"inline\" name=\"newInlineJS\" cachelocation=\"false\" url=\"\">var $ = skuid.$;\n\n$(document.body).one('pageload',function(){\n   // SRS-509\n//    $('.blueJeans').hide();\n});\n\n</jsitem><jsitem location=\"inline\" name=\"abc\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t    var studyModel= skuid.model.getModel('StudyDetails');\n        var studyPartModel= skuid.model.getModel('StudyParticipant');\n        var requestType='';\n\t    \n\t    if(studyPartModel.data.length&gt;0 )//&amp;&amp; (studyPartModel.data[0].Study__r!=''||studyPartModel.data[0].Study__r!=undefined)\n        {\n //   console.log(studyPartModel.data[0].Study__r);\n \n    var obj=studyPartModel.data[0].Study__r;\n   \n    if(obj!=undefined &amp;&amp; obj!=''){\n    if(studyModel.data.length&gt;0){\n        //    console.log(studyPartModel.data);\n            $.each(studyModel.data, function(i,studyRow){\n            //    console.log(studyRow);\n                if(studyRow.Id==obj.Id){\n                    requestType=studyRow.Request_Type__c;\n                      \n                      if(requestType=='Office Hours')\n                      {\n                          studyPartModel.fields[21].required = true;\n                          console.log('Request type is: '+requestType);\n                         \n                           // SRS-509\n                           return true;\n                          $('.blueJeans').show();\n                      /*    //$('.blueJeans').css('display','block');\n                           \n                                                 \n                            row = studyPartModel.getFirstRow();\n                        \n                            // Creating an editor is for advanced scenarios... you typically set this to null\n                            var editor = null;\n                        \n                            // Create a new skuid.ui.Field corresponding to the 'MailingCity' field\n                            var f = new skuid.ui.Field(\n                            row,\n                            studyPartModel,\n                            editor,\n                            {\n                                fieldId: 'Blue_Jeans__c',\n                                register: true\n                            }\n                        );\n                        \n                        // Render the field, running the corresponding field renderer logic\n                        // using the metadata Skuid finds for the 'MailingCity' field.\n                        f.render();\n                                                 \n                         \n                        return true; */\n                      }\n                      else{\n                          return false; \n                      }\n                  }\n                \n            });\n     }\n    }\n}\n\t\t\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"insertUpdateNote\" cachelocation=\"false\">/*SRS-578*/\nvar $ = skuid.$;\n\nvar sp = skuid.$M('StudyParticipant');\nvar spRow = sp.getFirstRow();  \nvar spNotes = skuid.$M('Notes'); \nvar row = spNotes.getFirstRow();\nvar title;\nif(typeof spRow.Notes__c != 'undefined'){\n    if(spRow.Notes__c.length &gt;80){\n      title = spRow.Notes__c.substring(0,80); \n    }else{\n       title = spRow.Notes__c; \n    }\n    var updates = { \n        'Title':title, \n        'Body':spRow.Notes__c, \n        'ParentId':spRow.Id\n    }; \n    spNotes.updateRow(row,updates); \n    spNotes.save();\n}\n/*SRS-578*/</jsitem></javascript></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]