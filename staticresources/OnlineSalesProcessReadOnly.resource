[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000CwWsAAK"},"Id":"a2f19000000CwWsAAK","Name":"OnlineSalesProcessReadOnly","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_OnlineSalesProcessReadOnly","skuid__Module__c":null,"skuid__Composer_Settings__c":"{\"skuid.model(Catalog)\":{\"region\":\"USA\",\"segment\":null,\"offerType\":\"PAID\",\"offertype\":\"PAID\",\"displayProductName\":\"QuickBooks\",\"product\":null},\"skuid.model(NewModel)\":{\"$Model.CCToken. URL_EndPoint__c\":null},\"skuid.model(SelectedRow)\":{\"region\":\"USA\",\"segment\":\"ANY\",\"offerType\":\"TRIAL\",\"offertype\":\"PAID\",\"displayProductName\":\"Quickbooks\"}}","skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"false\" showheader=\"true\" tabtooverride=\"Contact\" theme=\"Intuit\"><models><model id=\"CountryFilter\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"OnlineSales_CountryFilter__c\" orderby=\"Name DESC\"><fields><field id=\"Name\"/></fields><conditions/><actions/></model><model id=\"ProductFilter\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"OnlineSales_ProductFilter__c\" orderby=\"Name DESC\"><fields><field id=\"Name\"/></fields><conditions/><actions/></model><model id=\"Catalog\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" adapter=\"REST\" processonclient=\"true\" service=\"SFDC_REST_Service\" type=\"\" verb=\"GET\" endpoint=\"/services/apexrest/onlinesalesUIcatalogueNew/?region={{region}}&amp;segment={{segment}}&amp;product={{product}}\" labelplural=\"Products\" unloadwarningifunsavedchanges=\"false\"><fields><field id=\"segment\" label=\"Segment\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"TEXT\" accessible=\"true\" filterable=\"true\"/><field id=\"region\" label=\"Region\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"offerType\" label=\"OfferType\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"displayProductName\" label=\"DisplayProductName\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"TEXT\" accessible=\"true\" filterable=\"true\"/><field id=\"bundleListPrice\" label=\"BundleListPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" precision=\"4\" scale=\"2\" accessible=\"true\" filterable=\"true\"/><field id=\"bundleDiscountedPrice\" label=\"BundleDiscountedPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"productCode\" label=\"ProductCode\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"qboProductPriceBookEntryId\" label=\"QboProductPriceBookEntryId\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountedPrice\" label=\"PayrollDiscountedPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"payrollProductPriceBookEntryId\" label=\"PayrollProductPriceBookEntryId\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"discountedPrice\" label=\"DiscountedPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"discountDescription\" label=\"DiscountDescription\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"TEXT\" accessible=\"true\" filterable=\"true\"/><field id=\"currencyCode\" label=\"CurrencyCode\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"listCurrencyCode\" label=\"ListCurrencyCode\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"listPrice\" label=\"ListPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" precision=\"4\" scale=\"2\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollListPrice\" label=\"PayrollListPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"offerType__ui\" displaytype=\"FORMULA\" uionly=\"true\" label=\"Offer Type Converted\" readonly=\"true\" returntype=\"TEXT\"><formula>IF({{offerType}} == \"PAID\", \"Buy Now\", \"Trial\")</formula></field><field id=\"trialDuration\" label=\"TrialDuration\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" precision=\"1\" scale=\"0\" accessible=\"true\" filterable=\"true\"/><field id=\"annualListPrice\" label=\"AnnualListPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"annualDiscountedPrice\" label=\"AnnualDiscountedPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"DOUBLE\" accessible=\"true\" filterable=\"true\" precision=\"4\" scale=\"2\"/><field id=\"discountTime__ui\" displaytype=\"FORMULA\" uionly=\"true\" label=\"Discount Time Converted\" readonly=\"true\" returntype=\"TEXT\"><formula>IF((({{discountDuration}} == 365) &amp;&amp; ({{discountUnit}} == \"DAY\")), \"1 year\", \nIF((({{discountDuration}} &gt; 1) &amp;&amp; ({{discountUnit}} == \"MONTH\")), {{discountDuration}} + \" months\", \nIF((({{discountDuration}} == 1) &amp;&amp; ({{discountUnit}} == \"MONTH\")), \"1 month\", \nIF((({{discountDuration}} == 20) &amp;&amp; ({{discountUnit}} == \"YEAR\")), \"lifetime\", null))))</formula></field><field id=\"payrollFee__ui\" displaytype=\"FORMULA\" uionly=\"true\" precision=\"4\" scale=\"2\" readonly=\"true\" returntype=\"TEXT\"><formula>IF({{shortPayrollProductName}}==\"Enhanced Payroll\",\"$1.50\",\nIF({{shortPayrollProductName}}==\"Full Service Payroll\", \"$2.00\", null))</formula></field><field id=\"shortPayrollProductName\" label=\"ShortPayrollProductName\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"shortQBOProductName\" label=\"ShortQBOProductName\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollAnnualDiscountedPrice\" label=\"PayrollAnnualDiscountedPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollAnnualListPrice\" label=\"PayrollAnnualListPrice\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountAmount\" label=\"PayrollDiscountAmount\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountDescription\" label=\"PayrollDiscountDescription\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountDuration\" label=\"PayrollDiscountDuration\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountType\" label=\"PayrollDiscountType\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/><field id=\"payrollDiscountUnit\" label=\"PayrollDiscountUnit\" ispolymorphic=\"false\" isnamepointing=\"false\" displaytype=\"STRING\" accessible=\"true\" filterable=\"true\"/></fields><conditions><condition type=\"fieldvalue\" value=\"\" sourcetype=\"param\" sourceparam=\"region\" state=\"filterableoff\" inactive=\"true\" name=\"region\" operator=\"=\" mergefield=\"Country\" novaluebehavior=\"deactivate\" enclosevalueinquotes=\"true\"/><condition type=\"fieldvalue\" value=\"\" sourcetype=\"param\" sourceparam=\"segment\" state=\"filterableoff\" inactive=\"true\" operator=\"=\" enclosevalueinquotes=\"true\" name=\"segment\"/><condition type=\"fieldvalue\" value=\"\" enclosevalueinquotes=\"true\" sourcetype=\"param\" sourceparam=\"product\" state=\"filterableoff\" inactive=\"true\" name=\"product\"/></conditions><actions><action><actions><action type=\"emptyModelData\"><models><model>CatalogForDeck</model></models></action><action type=\"custom\" snippet=\"updateDeckModel\"/><action type=\"custom\" snippet=\"highlightRow\"/></actions><events><event>models.loaded</event></events></action></actions></model><model id=\"CatalogForDeck\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" adapter=\"\" type=\"\" sobject=\"User\" doclone=\"\" processonclient=\"false\" unloadwarningifunsavedchanges=\"false\"><fields><field id=\"segment\" uionly=\"true\" displaytype=\"TEXT\" label=\"Segment\"/><field id=\"offerType\" uionly=\"true\" displaytype=\"TEXT\" label=\"PRODUCT\"/></fields><conditions/><actions/><groupby method=\"simple\"/></model><model id=\"SegmentPicklist\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" adapter=\"\" type=\"\" sobject=\"User\" doclone=\"\" processonclient=\"false\" unloadwarningifunsavedchanges=\"false\"><fields><field id=\"segment\" uionly=\"true\" displaytype=\"TEXT\"/></fields><conditions/><actions/><groupby method=\"simple\"/></model><model id=\"MonthlyAnnualSelection\" limit=\"1\" query=\"true\" createrowifnonefound=\"true\" adapter=\"salesforce\" type=\"\" sobject=\"User\" doclone=\"\" unloadwarningifunsavedchanges=\"false\"><fields><field id=\"Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"userinfo\" value=\"\" field=\"Id\" operator=\"=\" userinfotype=\"userid\" state=\"filterableon\" inactive=\"false\" name=\"subFilter\" enclosevalueinquotes=\"true\"/></conditions><actions><action><actions><action type=\"custom\" snippet=\"subscriptionFilter\"/></actions><events><event>models.loaded</event></events></action></actions></model><model id=\"CountryFromLoggedInUser\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" sobject=\"User\"><fields><field id=\"Id\"/><field id=\"Name\"/><field id=\"Email\"/><field id=\"Country\"/><field id=\"CurrencyIsoCode\"/><field id=\"DefaultCurrencyIsoCode\"/></fields><conditions><condition type=\"userinfo\" value=\"\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" userinfotype=\"userid\"/></conditions><actions/></model><model id=\"UserSelections\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" adapter=\"salesforce\" type=\"\" sobject=\"User\" doclone=\"\" unloadwarningifunsavedchanges=\"false\"><fields><field id=\"MonthlyChoice\" uionly=\"true\" displaytype=\"BOOLEAN\" defaultValue=\"true\"/><field id=\"Name\"/></fields><conditions><condition type=\"userinfo\" value=\"\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" userinfotype=\"userid\" state=\"filterableon\" inactive=\"false\" name=\"subFilter\"/></conditions><actions/></model></models><components><grid uniqueid=\"mainGrid\"><divisions><division behavior=\"flex\" minwidth=\"100px\" ratio=\"1\" verticalalign=\"top\"><components><wrapper uniqueid=\"sk-3F01YY-2582\"><components><wrapper uniqueid=\"pageTitleWrapper\"><components><pagetitle model=\"Catalog\" uniqueid=\"sk-1I_7Es-134\"><maintitle>&lt;div style=\"font-size:30px; font-weight:bold\"&gt;\nNew Online Order\n&lt;/div&gt;</maintitle><actions/></pagetitle></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" margin=\"bottom,\"><styles><styleitem property=\"margin-bottom\" value=\"30px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper><grid uniqueid=\"sk-3Jwz8R-411\"><divisions><division behavior=\"fit\" verticalalign=\"top\"><components><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"Catalog\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"CatalogFilterTable\" emptysearchbehavior=\"query\" searchplaceholdertext=\"find an offer\" cssclass=\"filterTable filterIcon\"><fields/><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><filters><filter type=\"select\" filteroffoptionlabel=\"New Filter\" createfilteroffoption=\"false\" affectcookies=\"false\" autocompthreshold=\"25\" conditionsource=\"manual\" labelmode=\"manual\" condition=\"region\" label=\"Country\"><sources><source type=\"model\" effectsbehavior=\"justdefault\" model=\"CountryFilter\"><labeltemplate>{{{Name}}}</labeltemplate><valuetemplate>{{{Name}}}</valuetemplate></source></sources></filter><filter type=\"select\" filteroffoptionlabel=\"All QBO Products\" createfilteroffoption=\"true\" affectcookies=\"false\" autocompthreshold=\"25\" conditionsource=\"manual\" labelmode=\"manual\" condition=\"product\" label=\"Products\"><sources><source type=\"model\" effectsbehavior=\"justdefault\" model=\"ProductFilter\"><labeltemplate>{{{Name}}}</labeltemplate><valuetemplate>{{{Name}}}</valuetemplate></source></sources></filter><filter type=\"select\" filteroffoptionlabel=\"All Customer Types\" createfilteroffoption=\"true\" affectcookies=\"false\" autocompthreshold=\"25\" conditionsource=\"manual\" labelmode=\"manual\" condition=\"segment\" label=\"Customer Type\"><sources><source type=\"model\" effectsbehavior=\"justdefault\" model=\"SegmentPicklist\"><labeltemplate>{{{segment}}}</labeltemplate><valuetemplate>{{{segment}}}</valuetemplate></source></sources></filter></filters><renderconditions logictype=\"and\"/><searchfields/></skootable></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"1\"><components><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"MonthlyAnnualSelection\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"subTable\" emptysearchbehavior=\"query\" cssclass=\"filterTable\"><fields/><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><filters><filter type=\"select\" filteroffoptionlabel=\"Monthly\" createfilteroffoption=\"true\" affectcookies=\"false\" autocompthreshold=\"25\" conditionsource=\"manual\" labelmode=\"manual\" label=\"Subscription\" condition=\"subFilter\"><sources><source type=\"manual\" effectsbehavior=\"justdefault\"><options><option label=\"Annual\" type=\"complex\" value=\"Annual\"><effects><effect action=\"deactivate\" value=\"\" condition=\"subFilter\"/></effects></option></options></source></sources></filter></filters><searchfields/></skootable></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem property=\"margin-bottom\" value=\"-7px\"/></styles></grid><pagetitle uniqueid=\"sk-2YOfL7-214\" model=\"Catalog\"><actions/><maintitle>&lt;div style=\"font-size:18px; font-family:Salesforce Sans; font-weight:normal; color:#393a3d\"&gt;\n&lt;br/&gt;\nNo offers meet this filter criteria. Please adjust and try again.\n&lt;/div&gt;</maintitle><renderconditions logictype=\"and\"><rendercondition fieldmodel=\"Catalog\" sourcetype=\"modelproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasNoRows\"/></renderconditions></pagetitle><skuidplus__deck searchmethod=\"client\" searchbox=\"false\" model=\"CatalogForDeck\" uniqueid=\"SkuidDeckMonthly\"><components><wrapper uniqueid=\"sk-350XTE-625\"><components><pagetitle model=\"Catalog\" uniqueid=\"sk-307Rgr-2048\"><actions/><maintitle>&lt;div style=\"font-size=24pt; font-weight:bold\"&gt;{{segment}} - {{offerType__ui}}&lt;/div&gt;</maintitle><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"Catalog\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"CatalogTable1\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Find an Offer\"><fields><field id=\"productCode\" valuehalign=\"\" type=\"\"><label>OFFER CODE</label></field><field id=\"displayProductName\" valuehalign=\"\" type=\"\" columnwidth=\"\"><label>PRODUCT</label></field><field id=\"payrollDiscountDescription\" valuehalign=\"\" type=\"\"><label>PAYROLL DISCOUNT</label></field><field id=\"discountDescription\" valuehalign=\"\" type=\"\" columnwidth=\"25%\"><label>QBO DISCOUNT</label></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>PAYROLL MONTHLY CHARGE</label><template>{{#payrollDiscountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollDiscountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollListPrice}}&lt;/div&gt;\n{{/payrollDiscountAmount}}\n\n{{^payrollDiscountAmount}}\n{{#payrollListPrice}} &lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollListPrice}} &lt;br/&gt;&lt;/div&gt; {{/payrollListPrice}}\n{{#payrollDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollDiscountedPrice}}&lt;/div&gt; {{/payrollDiscountedPrice}}\n{{/payrollDiscountAmount}}</template></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>QBO MONTHLY CHARGE</label><template>{{#discountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{discountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{listPrice}}&lt;/div&gt;\n{{/discountAmount}}\n\n{{^discountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{listPrice}} &lt;br/&gt;&lt;/div&gt;\n{{#discountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{discountedPrice}}&lt;/div&gt; {{/discountedPrice}}\n{{/discountAmount}}</template></field></fields><rowactions><action type=\"multi\" label=\"Select Offer\" icon=\"fa-circle-o\" openicon=\"fa-dot-circle-o\"><popup width=\"80%\" title=\"Viewing {{Model.label}}: {{Name}}\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"true\" mode=\"edit\" model=\"Catalog\"><conditions><condition type=\"contextrow\" field=\"Id\" mergefield=\"Id\" autocreated=\"true\"/></conditions><columns><column width=\"50%\"><sections><section title=\"Section A\"><fields><field id=\"segment\"/><field id=\"region\"/><field id=\"offerType\"/></fields></section></sections></column><column width=\"50%\"><sections><section title=\"Section B\"><fields><field id=\"displayProductName\"/><field id=\"bundleListPrice\"/><field id=\"bundleDiscountedPrice\"/><field id=\"productCode\"/><field id=\"qboProductPriceBookEntryId\"/><field id=\"payrollDiscountedPrice\"/><field id=\"payrollProductPriceBookEntryId\"/><field id=\"discountedPrice\"/><field id=\"discountDescription\"/><field id=\"currencyCode\"/><field id=\"listCurrencyCode\"/><field id=\"listPrice\"/><field id=\"payrollListPrice\"/><field id=\"offerType__ui\"/><field id=\"trialDuration\"/></fields></section></sections></column></columns></basicfieldeditor></components></popup><actions/></action></rowactions><massactions usefirstitemasdefault=\"true\"/><views/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" fieldmodel=\"CatalogForDeck\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"offerType\" value=\"TRIAL\" enclosevalueinquotes=\"true\"/></renderconditions><filters/><searchfields/><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></skootable><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"Catalog\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"CatalogTableTrial1\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Find an Offer\"><fields><field id=\"productCode\" valuehalign=\"\" type=\"\"><label>OFFER CODE</label></field><field id=\"displayProductName\" valuehalign=\"\" type=\"\" columnwidth=\"\"><label>PRODUCT</label></field><field type=\"COMBO\" valuehalign=\"\" columnwidth=\"15%\"><label>TRIAL</label><template>{{trialDuration}} {{trialUnit}}</template></field><field id=\"payrollDiscountDescription\" valuehalign=\"\" type=\"\"><label>PAYROLL DISCOUNT</label></field><field id=\"discountDescription\" valuehalign=\"\" type=\"\" columnwidth=\"25%\"><label>QBO DISCOUNT</label></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>PAYROLL MONTHLY CHARGE</label><template>{{#payrollDiscountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollDiscountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollListPrice}}&lt;/div&gt;\n{{/payrollDiscountAmount}}\n\n{{^payrollDiscountAmount}}\n{{#payrollListPrice}} &lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollListPrice}} &lt;br/&gt;&lt;/div&gt; {{/payrollListPrice}}\n{{#payrollDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollDiscountedPrice}}&lt;/div&gt; {{/payrollDiscountedPrice}}\n{{/payrollDiscountAmount}}</template></field><field type=\"COMBO\" valuehalign=\"right\" columnwidth=\"120px\" allowhtml=\"true\"><label>QBO MONTHLY CHARGE</label><template>{{#discountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{discountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{listPrice}}&lt;/div&gt;\n{{/discountAmount}}\n\n{{^discountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{listPrice}} &lt;br/&gt;&lt;/div&gt;\n{{#discountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{discountedPrice}}&lt;/div&gt; {{/discountedPrice}}\n{{/discountAmount}}</template></field></fields><rowactions><action type=\"multi\" label=\"Select Offer\" icon=\"fa-circle-o\"><actions/></action></rowactions><massactions usefirstitemasdefault=\"true\"/><views/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" fieldmodel=\"CatalogForDeck\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"offerType\" value=\"TRIAL\" enclosevalueinquotes=\"true\"/></renderconditions><filters/><searchfields/><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></skootable></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"bottom,\"><styles><styleitem property=\"padding-bottom\" value=\"25px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"/></wrapper></components><renderconditions logictype=\"and\"/></skuidplus__deck><skuidplus__deck searchmethod=\"client\" searchbox=\"false\" model=\"CatalogForDeck\" uniqueid=\"SkuidDeckAnnual\"><components><wrapper uniqueid=\"sk-350XTE-625\"><components><pagetitle model=\"Catalog\" uniqueid=\"sk-307Rgr-2048\"><actions/><maintitle>&lt;div style=\"font-size=24pt; font-weight:bold\"&gt;{{segment}} - {{offerType__ui}}&lt;/div&gt;</maintitle><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></pagetitle><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"Catalog\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"CatalogTable2\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Find an Offer\"><fields><field id=\"productCode\" valuehalign=\"\" type=\"\"><label>OFFER CODE</label></field><field id=\"displayProductName\" valuehalign=\"\" type=\"\" columnwidth=\"\"><label>PRODUCT</label></field><field id=\"payrollDiscountDescription\" valuehalign=\"\" type=\"\"><label>PAYROLL DISCOUNT</label></field><field id=\"discountDescription\" valuehalign=\"\" type=\"\" columnwidth=\"25%\"><label>QBO DISCOUNT</label></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>PAYROLL MONTHLY CHARGE</label><template>{{#payrollDiscountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollDiscountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollListPrice}}&lt;/div&gt;\n{{/payrollDiscountAmount}}\n\n{{^payrollDiscountAmount}}\n{{#payrollListPrice}} &lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollListPrice}} &lt;br/&gt;&lt;/div&gt; {{/payrollListPrice}}\n{{#payrollDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollDiscountedPrice}}&lt;/div&gt; {{/payrollDiscountedPrice}}\n{{/payrollDiscountAmount}}</template></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>QBO ANNUAL CHARGE</label><template>{{#annualDiscountedPrice}}&lt;div style=\"font-weight: bold\"&gt;{{currencyCode}} {{annualDiscountedPrice}}&lt;/div&gt;{{/annualDiscountedPrice}}\n{{#annualDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{annualListPrice}}&lt;/div&gt;{{/annualDiscountedPrice}}\n{{^annualDiscountedPrice}}{{#annualListPrice}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{annualListPrice}}&lt;/div&gt;{{/annualListPrice}}{{/annualDiscountedPrice}}</template></field></fields><rowactions><action type=\"multi\" label=\"Select Offer\" icon=\"fa-circle-o\" openicon=\"fa-dot-circle-o\"><popup width=\"80%\" title=\"Viewing {{Model.label}}: {{Name}}\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"true\" mode=\"edit\" model=\"Catalog\"><conditions><condition type=\"contextrow\" field=\"Id\" mergefield=\"Id\" autocreated=\"true\"/></conditions><columns><column width=\"50%\"><sections><section title=\"Section A\"><fields><field id=\"segment\"/><field id=\"region\"/><field id=\"offerType\"/></fields></section></sections></column><column width=\"50%\"><sections><section title=\"Section B\"><fields><field id=\"displayProductName\"/><field id=\"bundleListPrice\"/><field id=\"bundleDiscountedPrice\"/><field id=\"productCode\"/><field id=\"qboProductPriceBookEntryId\"/><field id=\"payrollDiscountedPrice\"/><field id=\"payrollProductPriceBookEntryId\"/><field id=\"discountedPrice\"/><field id=\"discountDescription\"/><field id=\"currencyCode\"/><field id=\"listCurrencyCode\"/><field id=\"listPrice\"/><field id=\"payrollListPrice\"/><field id=\"offerType__ui\"/><field id=\"trialDuration\"/></fields></section></sections></column></columns></basicfieldeditor></components></popup><actions/></action></rowactions><massactions usefirstitemasdefault=\"true\"/><views/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" fieldmodel=\"CatalogForDeck\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"offerType\" value=\"TRIAL\" enclosevalueinquotes=\"true\"/></renderconditions><filters/><searchfields/><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></skootable><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"false\" model=\"Catalog\" buttonposition=\"left\" mode=\"readonly\" uniqueid=\"CatalogTableTrial2\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Find an Offer\"><fields><field id=\"productCode\" valuehalign=\"\" type=\"\"><label>OFFER CODE</label></field><field id=\"displayProductName\" valuehalign=\"\" type=\"\" columnwidth=\"\"><label>PRODUCT</label></field><field type=\"COMBO\" valuehalign=\"\" columnwidth=\"15%\"><label>TRIAL</label><template>{{trialDuration}} {{trialUnit}}</template></field><field id=\"payrollDiscountDescription\" valuehalign=\"\" type=\"\"><label>PAYROLL DISCOUNT</label></field><field id=\"discountDescription\" valuehalign=\"\" type=\"\" columnwidth=\"25%\"><label>QBO DISCOUNT</label></field><field type=\"COMBO\" valuehalign=\"right\" allowhtml=\"true\" columnwidth=\"120px\"><label>PAYROLL MONTHLY CHARGE</label><template>{{#payrollDiscountAmount}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollDiscountedPrice}} &lt;br/&gt;&lt;/div&gt;\n&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollListPrice}}&lt;/div&gt;\n{{/payrollDiscountAmount}}\n\n{{^payrollDiscountAmount}}\n{{#payrollListPrice}} &lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{payrollListPrice}} &lt;br/&gt;&lt;/div&gt; {{/payrollListPrice}}\n{{#payrollDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{payrollDiscountedPrice}}&lt;/div&gt; {{/payrollDiscountedPrice}}\n{{/payrollDiscountAmount}}</template></field><field type=\"COMBO\" valuehalign=\"right\" columnwidth=\"120px\" allowhtml=\"true\"><label>QBO ANNUAL CHARGE</label><template>{{#annualDiscountedPrice}}&lt;div style=\"font-weight: bold\"&gt;{{currencyCode}} {{annualDiscountedPrice}}&lt;/div&gt;{{/annualDiscountedPrice}}\n{{#annualDiscountedPrice}}&lt;div style=\"color :DimGray ;text-decoration: line-through\"&gt;{{currencyCode}} {{annualListPrice}}&lt;/div&gt;{{/annualDiscountedPrice}}\n{{^annualDiscountedPrice}}{{#annualListPrice}}&lt;div style=\"font-weight:bold\"&gt;{{currencyCode}} {{annualListPrice}}&lt;/div&gt;{{/annualListPrice}}{{/annualDiscountedPrice}}</template></field></fields><rowactions><action type=\"multi\" label=\"Select Offer\" icon=\"fa-circle-o\"/></rowactions><massactions usefirstitemasdefault=\"true\"/><views/><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" fieldmodel=\"CatalogForDeck\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"offerType\" value=\"TRIAL\" enclosevalueinquotes=\"true\"/></renderconditions><filters/><searchfields/><conditions><condition type=\"contextrow\" field=\"segment\" mergefield=\"segment\" operator=\"=\"/><condition type=\"contextrow\" field=\"offerType\" mergefield=\"offerType\" operator=\"=\"/></conditions></skootable></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"bottom,\"><styles><styleitem property=\"padding-bottom\" value=\"25px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components><renderconditions logictype=\"and\"/></skuidplus__deck></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" margin=\"bottom,right,left,top,\"><styles><styleitem property=\"margin-left\" value=\"19px\"/><styleitem property=\"margin-top\" value=\"18px\"/><styleitem property=\"margin-right\" value=\"19px\"/><styleitem property=\"margin-bottom\" value=\"18px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components><resources><labels/><css><cssitem location=\"inline\" name=\"newcss\" cachelocation=\"false\">table.nx-skootable-data tbody tr:hover td {\n\tbackground-color: transparent !important;\n\tborder-bottom-width: 1px !important;\n\tpadding-bottom: 4px !important;\n}\n\nth\n{\n    font-size : 15px;\n    white-space: normal;\n}\ntd\n{\n    height: 31px;\n}\ntable.nx-skootable-data th {\n    padding-top: 0px;\n    padding-bottom: 0px;\n    height: 40px;\n}\n\n\n.nx-page {\n    min-width: 1000px;\n    padding: 0;\n}\n#pageTitleWrapper {\n    margin-top: -10px;\n}\n\n.OpptyEditorDetails{\n    background-color: #ebf9ff;\n    font-size: 14px;\n}\n\n.button {\n  display: inline-block;\n  position:inherit;\n  border-radius: 4px;\n  background-color: #008CBA;\n  background-image: none;\n  border: none;\n  color: #FFFFFF;\n  text-align: center;\n  font-size: 14px;\n  padding:2px;\n  width: 150px;\n  transition: all 0.5s;\n  cursor: pointer;\n  margin: 5px;\n}\n\n.button span {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.5s;\n}\n\n.button span:after {\n  content: 'Â»';\n  position: absolute;\n  opacity: 0;\n  top: 0;\n  right: -20px;\n  transition: 0.5s;\n}\n\n.button:hover span {\n  padding-right: 25px;\n}\n\n.button:hover span:after {\n  opacity: 1;\n  right: 0;\n}\n\n.nx-list-footer {\n    display: none;\n}\n\n.centerTemplate {\n    float:right;\n}\n\n.filterTable .nx-skootable-data{\n    border-bottom: 0px;\n}\n\n#filterPanel .nx-panel{\n    min-height: 30px;\n}\n\n#sendQuoteComponent .nx-header-right {\n    float:left;\n}\n\n.newUserPicklist .nx-radiowrapper {\n    background: white;\n}\n\n.newUserPicklist .nx-fieldtext {\n    border-right:none;\n}\n\n.whiteButton {\n    background: white !important;\n    color:#0077c5 !important;\n    border-color:lightgrey !important;\n}\n.whiteButton:hover {\n    background: lightgrey;\n    color:#0077c5;\n    border-color:lightgrey;\n}\n\n#userFieldEditor .nx-basicfieldeditor-item-label {\n    padding-bottom: 10px;\n}\n\n.orderFieldEditor .nx-basicfieldeditor-item {\n    padding-bottom: 10px;\n}\n\n.fieldEditor {\n    margin-top: -10px;\n}\n\n#tempPasswordText {\n    min-width: 300px;\n    max-height: 0px;\n}\n\n.pswdText {\n    margin-left: 6px;\n    /*margin-top: 30px;*/\n}\n\n.displayNone {\n    display: none;\n}\n\n/* Remove x from popups */\n.ui-dialog-titlebar {\n    display: none;\n}\n\n.centerButtonTitle {\n    float: left;\n}\n\n.centerTitle .nx-header-right{\n    float: none;\n    text-align: center;\n}\n\n.leftButton {\n    margin-right: 101px;\n}\n\n.readOnlyField .nx-fieldtext {\n    padding: 0px;\n    padding-top: 15px;\n    font-style: normal !important;\n}\n\n.errorClass {\n    margin-left: 10px;\n}\n\n.checkBoxField {\n    width: 10px;\n}\n\n.updateAddressField {\n    margin-left: -10px;\n}\n\n.errorCCNumber {\n    margin-top: -20px;\n}\n\n.errorCVV {\n    margin-top: -20px;\n}\n\nselect.nullValue {\n    color: #babec5;\n    font-style: italic;\n}\n\n#orderPopup.ui-dialog {\n    padding: 0px;\n}\n\n#multiCompanyFieldEditor .nx-basicfieldeditor-item {\n    padding-left: 0px;\n    margin-top: -9px;\n}\n\n.needPlaceholder input{\n    padding-left: 4px;\n    font-style: italic;\n}\n\n.addPadding {\n    padding-top: 10px;\n}</cssitem><cssitem location=\"inline\" name=\"progressIndicator\" cachelocation=\"false\">/* Separator Lines */\n.pgi-line {\n  width: 90px;\n  border: solid 1px;\n  color: #8D9096;\n  position: relative;\n    left: -16px;\n    top: 17px;\n}\n\n/* Bubble Generics */\n.pgi-innercircle {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n    width: 24px;\n    height: 24px;\n}\n\n.pgi-number {\n  vertical-align: middle;\n    text-align: center;\n  font-family: Avenir Next;\n    font-size: 24px;\n    font-weight: 500;\n  position: relative;\n    bottom: 3px;\n}\n.pgi-outercircle {\n  border-radius: 50%;\n    border-style: solid;\n    border-width: 3px;\n    width: 24px;\n    padding: 2px;\n    height: 24px;\n  position: relative;\n    margin: auto;\n}\n.pgi-text {\n  font-family: Avenir Next;\n  font-size: 12px;\n  text-align: center;\n  margin-top: 5px; /* Text shouldn't be too close to Bubbles */\n}\n.pgi {\n    text-decoration: none !important;\n}\n\n/* NoStep */\n.pgi-nostep .pgi-innercircle {\n  background: #FFFFFF;\n}\n.pgi-nostep .pgi-number {\n  color: #0077C5;\n}\n.pgi-nostep .pgi-outercircle {\n  border-color: #8D9096;\n  background: #FFFFFF;\n}\n.pgi-nostep .pgi-text {\n  color: #8D9096;\n}\n\n/* Step */\n.pgi-step .pgi-innercircle {\n  background: #FFFFFF;\n}\n.pgi-step .pgi-number {\n  color: #0077C5;\n}\n.pgi-step .pgi-outercircle {\n  border-color: #8D9096;\n  background: #FFFFFF;\n}\n.pgi-step .pgi-text {\n  color: #8D9096;\n}\n\n.pgi-step:hover .pgi-outercircle {\n  border-color: #34bfff;\n}\n\n/* CurrentStep */\n.pgi-currentstep .pgi-innercircle {\n  background: #0077C5;\n}\n.pgi-currentstep .pgi-number {\n  color: #eceef1;\n}\n.pgi-currentstep .pgi-outercircle {\n  border-color: #0077C5;\n  background: #FFFFFF;\n}\n.pgi-currentstep .pgi-text {\n  color: #0077C5;\n}\n\n.pgi-currentstep:hover .pgi-innercircle{\n  background: #FFFFFF;\n}\n.pgi-currentstep:hover .pgi-outercircle {\n  border-color: #34bfff;\n}\n.pgi-currentstep:hover .pgi-number{\n  color: #0077C5;\n}\n\n/* Previous Step */\n.pgi-prevstep .pgi-innercircle {\n  background: #2CA01C;\n}\n.pgi-prevstep .pgi-number {\n  color: #FFFFFF;\n}\n.pgi-prevstep .pgi-outercircle {\n  border-color: #8D9096;\n  background: #FFFFFF;\n}\n.pgi-prevstep .pgi-text {\n  color: #8D9096;\n}\n\n.pgi-prevstep:hover .pgi-outercircle {\n  border-color: #34bfff;\n}</cssitem></css><javascript><jsitem location=\"inline\" name=\"pageInit\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n    registerSnippet = skuid.snippet.register;\n    var leadModel,accountModel,leadCondition,accountCondition;\n    var leadID = skuid.page.params.LeadId;\n    var accID = skuid.page.params.AccountId;\n\t\n\t// ================= subscriptionFilter =================\n\t// Inputs: None\n\t// Outputs: None\n\t// Description: Function to set up Monthly vs Annual filter\n\tskuid.snippet.registerSnippet('subscriptionFilter', function() {\n        subscriptionFilter();\n    });\n    \n    // ================= updateDeckModel ====================\n\t// Inputs: None\n\t// Outputs: None\n\t// Description: Takes the Catalog model (REST model) and \n\t//              generates the deck to show the different\n\t//              product offerings grouped together\n\t// ======================================================\n    skuid.snippet.registerSnippet('updateDeckModel', function() {\n        updateDeckModel();\n    });\n    \n\t$(document.body).one('pageload',function(){\n\t    \n\t    // ======================================\n\t    // Set up REST model for Catalog\n\t    // ======================================\n\t    var RESTModel = skuid.model.getModel('Catalog'),\n\t        segmentModel = skuid.model.getModel('SegmentPicklist'),\n\t        uniqueArr = {},\n\t        segmentRows = [];\n\t  \n\t    // ======================================\n\t    // Populate model segment filter choices\n\t    // ======================================\n\t    $.each(RESTModel.getRows(),function(){\n        \tvar row = this,\n        \t\tsegment = RESTModel.getFieldValue(row,'segment');\n        \tif (uniqueArr[segment] === undefined) {\n        \t\tuniqueArr[segment] = true;\n        \t\tsegmentRows.push({segment : segment});\n        \t}\n        });\n        // Sort choices by New to QBO / Desktop Migrator / Multi-Company / ...then alphabetically\n        segmentRows = segmentRows.sort(function(a,b){\n                if (a.segment &lt; b.segment) return -1;\n                if (a.segment &gt; b.segment) return 1;\n                return 0;\n        });\n        \n        var sortOrder = [\n            {segment: 'Multi Company'},\n            {segment: 'Desktop Migrator'},\n            {segment: 'All Customers'}];\n            \n        $.each(sortOrder, function(){\n            a = this.segment;\n            b = this.offerType;\n            $.each(segmentRows, function(i, value){\n                if((this.segment == a) &amp;&amp; (this.offerType == b)) {\n                    segmentRows.unshift(value);\n                    segmentRows.splice(i + 1, 1);\n                }\n            });\n        });\n        \n        segmentRows.reverse();\n        if (segmentRows.length) segmentModel.adoptRows(segmentRows);\n        \n        // ======================================\n\t    // Set up country region from User\n\t    // ======================================\n        var regionCondition = RESTModel.getConditionByName('region');\n        \n        var countryModel = skuid.model.getModel('CountryFromLoggedInUser'),\n            country = countryModel.getFieldValue(countryModel.getFirstRow(), 'Country');\n\t    \n\t    RESTModel.setCondition(regionCondition, country);\n\t    RESTModel.activateCondition(regionCondition);\n\t    RESTModel.updateData();\n\t    \n        // ======================================\n\t    // Refresh Filter Table\n\t    // ======================================\n        var filterTable = skuid.component.getById('CatalogFilterTable');\n        filterTable.render();\n        \n        // ======================================\n\t    // Set up lead / account models\n\t    // ======================================\n\t    var userModel = skuid.model.getModel('UserSelections');\n\t    var subModel = skuid.model.getModel('MonthlyAnnualSelection');\n    \t    \n    \tuserModel.updateRow(userModel.getFirstRow(), {MonthlyChoice: 'initial'});\n    \t$.blockUI({message: 'Updating Catalog'});    \n\t\t\n\t\t// ======================================\n\t    // Finish initializing page\n\t    // ======================================\n        subscriptionFilter();\n\t});\n    \n    // ================= subscriptionFilter =================\n\t// Inputs: None\n\t// Outputs: None\n\t// Description: Function to set up Monthly vs Annual filter\n\t// ======================================================\n\tfunction subscriptionFilter() {\n\t    \n\t    // ======================================\n\t    // Set up models, components &amp; conditions\n\t    // ======================================\n\t    // Model condition (inactive vs active) will determine whether or not Monthly or Annual is chosen\n    \tvar subModel = skuid.model.getModel('MonthlyAnnualSelection'), \n    \t    subModelRow = subModel.getFirstRow();\n    \t    condition = subModel.getConditionByName('subFilter');\n    \tvar selectedModel = skuid.model.getModel('SelectedRow');\n    \t\n    \t// aDeck &amp; mDeck refer to the two decks in the catalog\n    \t// aDeck renders if it's annual and will only show annual pricing\n    \t// mDeck renders if it's monthly and will only show monthly pricing\n    \tvar aDeck = skuid.component.getById('SkuidDeckAnnual'),\n\t        mDeck = skuid.component.getById('SkuidDeckMonthly'),\n\t        subTable = skuid.component.getById('subTable');\n\t    var userModel = skuid.model.getModel('UserSelections'), \n\t        userModelRow = userModel.getFirstRow(),\n\t        fromLead = userModel.getFieldValue(userModelRow, 'FromLead__ui');\n\t        \n\t    var originalValue = userModel.getFieldValue(userModelRow, 'MonthlyChoice');\n\t    var flag = '';\n        \n        // ======================================\n\t    // Render the appropriate deck model\n\t    // ======================================\n    \t// When model condition is inactive - Annual is selected, Monthly choice == false\n    \t// When model condition is active - Monthly is selected, Monthly choice == true\n    \tif(condition.inactive) {\n    \t    userModel.updateRow(userModelRow, {MonthlyChoice: false});\n    \t    aDeck.render();\n    \t    mDeck.unrender();\n    \t    flag = false;\n    \t}\n    \telse {\n    \t    userModel.updateRow(userModelRow, {MonthlyChoice: true});\n    \t    mDeck.render();\n    \t    aDeck.unrender();\n    \t    flag = true;\n    \t}\n    \n        // Block the UI to save the monthly selection choice\n\t    $.blockUI({message: 'Updating Catalog'});\n\t    userModel.save({callback: function(result){\n\t        $.unblockUI();\n\t    }});\n\t    \n    \treturn;\n\t}\n      \n\t// ================= updateDeckModel ====================\n\t// Inputs: None\n\t// Outputs: None\n\t// Description: Takes the Catalog model (REST model) and \n\t//              generates the deck to show the different\n\t//              product offerings grouped together\n\t// ======================================================\n\tfunction updateDeckModel(){\n\t    \n\t    // ======================================\n\t    // Set up models and components\n\t    // ======================================\n    \tvar RESTModel = skuid.model.getModel('Catalog'),\n    \t    UIModel = skuid.model.getModel('CatalogForDeck'),\n    \n        \t//\tUnique combination of Customer Segments and Types\n        \tuniqueKeySet = {},\n        \n        \t//\tThe actual rows that we will adopt\n        \trowsToAdopt = [];\n        \n        // ==============================================\n\t    // Find all the unique segment - offerTypes pairs\n\t    // ==============================================\n\t    // Loop through the Catalog model and push all unique pairings of segment - offerType\n        $.each(RESTModel.getRows(),function(){\n        \tvar row = this,\n        \t\tsegment = RESTModel.getFieldValue(row,'segment'),\n        \t\tofferType = RESTModel.getFieldValue(row,'offerType'),\n        \t\tkey = segment + '-' + offerType;\n\n        \tif (uniqueKeySet[key] === undefined) {\n        \t\tuniqueKeySet[key] = true;\n        \t\trowsToAdopt.push({\n        \t\t\tsegment : segment,\n        \t\t\tofferType : offerType\n        \t\t});\n        \t}\n        });\n        \n        // =========================================================================\n\t    // Sort Catalog by:\n\t    // All Customers / New to QBO / Desktop Migrator / Multi-Company / ... then alphabetically\n        // =========================================================================\n        rowsToAdopt.sort(function(a, b){\n            if (a.segment &lt; b.segment) return -1;\n            if (a.segment &gt; b.segment) return 1;\n            return 0;\n        });\n        \n        var sortOrder = [\n            {segment: 'Multi Company', offerType: 'PAID'},\n            {segment: 'Desktop Migrator', offerType: 'TRIAL'},\n            {segment: 'Desktop Migrator', offerType: 'PAID'},\n            {segment: 'All Customers', offerType: 'TRIAL'},\n            {segment: 'All Customers', offerType: 'PAID'}];\n            \n        $.each(sortOrder, function(){\n            a = this.segment;\n            b = this.offerType;\n            $.each(rowsToAdopt, function(i, value){\n                if((this.segment == a) &amp;&amp; (this.offerType == b)) {\n                    rowsToAdopt.unshift(value);\n                    rowsToAdopt.splice(i + 1, 1);\n                }\n            });\n        });\n        \n        rowsToAdopt.reverse();\n        \n        // ===================================================================\n\t    // Update the UI only model (CatalogForDeck) with REST model offerings\n        // ===================================================================\n        //\tIf we found any rows, adopt them\n        if (rowsToAdopt.length) UIModel.adoptRows(rowsToAdopt);\n        return 0;\n\t}\n\t\n})(skuid);</jsitem><jsitem location=\"external\" name=\"AJAXKit\" cachelocation=\"false\" url=\"/soap/ajax/36.0/apex.js\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem></javascript></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]