[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a3L2A000000QB8pUAG"},"Id":"a3L2A000000QB8pUAG","Name":"EmployeesContractors","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_EmployeesContractors","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"true\" useviewportmeta=\"true\" showheader=\"true\"><models><model id=\"PayrollAssetDummyModel\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Account\"><fields><field id=\"Name\"/></fields><conditions><condition type=\"param\" value=\"companyID\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\" field=\"Name\"/></conditions><actions/></model><model id=\"Payrollwidgets\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"PayrollWidgetLinks__c\"><fields><field id=\"Employees_Contractors__c\"/></fields><conditions/><actions/></model><model id=\"EmployeesContractors\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Account\"><fields><field id=\"Name\"/></fields><conditions/><actions/></model></models><components><wrapper uniqueid=\"sk-1WmNw4-346\"><components><pagetitle uniqueid=\"ErrorEmployeesContractorsId\" model=\"PayrollAssetDummyModel\"><actions/><renderconditions logictype=\"and\"/></pagetitle></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"=\" fieldmodel=\"PayrollAssetDummyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"Name\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions></wrapper><wrapper uniqueid=\"sk-2mouVK-130\"><components><wrapper uniqueid=\"EmployeesContractorsWrapperID\"><components><grid uniqueid=\"sk-2mp3h1-146\"><divisions><division behavior=\"flex\" minwidth=\"15px\" ratio=\"1\" verticalalign=\"top\"><components><template multiple=\"false\" uniqueid=\"sk-2mpGG_-174\" allowhtml=\"true\" cssclass=\"onclickToggleIcon\"><contents>&lt;span style=\"font-size:30px\" class=\"sk-icon fa-caret-down pointerFingerHover\"/&gt;</contents></template></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"100px\" ratio=\"29\"><components><pagetitle uniqueid=\"sk-2mpLlY-189\" model=\"EmployeesContractors\" cssclass=\"subpagetitle ShowTable\"><maintitle>&lt;span style=\"color: #0077c5; font-size:14px\" class=\"HoveroverUnderline pointerFingerHover\"&gt;\nEMPLOYEES &lt;/span&gt;</maintitle><actions/></pagetitle></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid><wrapper uniqueid=\"EmployeesContractorsInsideWID\" cssclass=\"Togglesection\"><components><template multiple=\"false\" uniqueid=\"EmployeesContractorsTemplID\" model=\"EmployeesContractors\" allowhtml=\"true\" cssclass=\"Template\"><contents>&lt;iframe id=\"iframeContentId\" src=\"{{#urlDecode}}{{Name}}{{/urlDecode}}\" frameborder=\"0\" marginheight=\"0\"\n                                                                                                    marginwidth=\"0\" seamless=\"seamless\" scrolling=\"no\" width=\"100%\" height=\"350px\" /&gt;</contents></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"bottom,right,left,top,\"><styles><styleitem property=\"padding-left\" value=\"40px\"/><styleitem property=\"padding-top\" value=\"30px\"/><styleitem property=\"padding-right\" value=\"40px\"/><styleitem property=\"padding-bottom\" value=\"30px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"PayrollAssetDummyModel\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"deactivate\" field=\"Name\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions></wrapper></components><resources><labels/><javascript><jsitem location=\"inline\" name=\"OnLoadJS\" cachelocation=\"false\" url=\"\">(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t\t\n\t\t                  \n\t\t                 var PayrollAssetDummyModel = skuid.$M('PayrollAssetDummyModel');  \n\t\t                 console.log('*****  PayrollAssetDummyModel *******' +PayrollAssetDummyModel);\n                         PayrollAssetDummyModel.createRow();\n                         var PayrollAssetModelrow = PayrollAssetDummyModel.getFirstRow();\n                         var PayrollCompanyID = PayrollAssetDummyModel.getFieldValue(PayrollAssetModelrow, 'Name');\n                         console.log('PayrollCompanyID  : ' +PayrollCompanyID);\n                         if(PayrollCompanyID === '' || PayrollCompanyID === null){\n                             \n                             errorNoPayrollIdResponse();\n                         } else {\n                            var payrollWidgetsModel = skuid.$M('Payrollwidgets');\n                            var payrollWidgetsFirstRow = payrollWidgetsModel.getFirstRow();\n                            var TaxpaymentsDueURL = payrollWidgetsModel.getFieldValue(payrollWidgetsFirstRow,'Employees_Contractors__c');\n                            \n                            var reconstructParam = TaxpaymentsDueURL + PayrollCompanyID;\n                            \n                            var CCModel = skuid.$M('CountryCode'); \n\t\t\t                var CCModelFirstRow = CCModel.getFirstRow();\n\t\t\t                var CountryCode = CCModel.getFieldValue(CCModelFirstRow,'Name');\n\t\t\t                     \n\t\t\t                reconstructParam = reconstructParam +'&amp;countryCode='+ CountryCode;\n                            \n                            console.log('reconstructParam  : ' +reconstructParam);\n                            \n                            var EmployeesContractorsURLModel = skuid.$M('EmployeesContractors');  \n                            EmployeesContractorsURLModel.abandonAllRows();\n                             var EmployeesContractorsURLDummyRow = {};\n                             var newRow = EmployeesContractorsURLModel.createRow();\n                             EmployeesContractorsURLDummyRow[newRow.Id] = ({ Name : reconstructParam\n    \t\t\t\t\t\t        });\n                            EmployeesContractorsURLModel.updateRows(EmployeesContractorsURLDummyRow);\n                         }\n                         \n                        \n                        \n        \t/***************** On page load hide the section ** Toggle off ** Toggletables  ******************************\n\t    *****************************************************************************************************************/ \n\t    \n\t\tskuid.$('.Toggletables').each(function(){\n\t\t     \n\t\t    var spanToggleicon = $(this).find('.fa-caret-down');\n\t\t    spanToggleicon.addClass(\"fa-caret-right\");\n\t\t    spanToggleicon.removeClass(\"fa-caret-down\");\n\t\t    var insideWrapper = $(this).find('.sk-wrapper').find('.sk-wrapper');\n\t\t     insideWrapper[0].style.display = 'none';\n\t\t    \n        }); \n        \n\t\t\n\t\t\t/***************** Toggle sections onclick ** onclickToggle ** Togglesection **  ******************************\n\t    *****************************************************************************************************************/ \n\n\t\tskuid.$( \".onclickToggleIcon\").click(function() {\n\t\t        \n\t\t        var togglecarret =  $( this );\n\t\t        var spanelement = togglecarret.find('span');\n\t\t        if(spanelement.hasClass(\"fa-caret-down\"))\n\t\t        {\n\t\t            spanelement.addClass(\"fa-caret-right\");\n\t\t            spanelement.removeClass(\"fa-caret-down\");\n\t\t            var wrapperspecific = $( this ).parents(':eq(3)');\n\t\t            var labelSection= wrapperspecific.find('.subpagetitle');\n\t\t            labelSection.addClass(\"HideTable\");\n            \t    labelSection.removeClass(\"ShowTable\");\n\t\t            wrapperspecific.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'none';\n\t\t        }\n\t\t        else if(spanelement.hasClass(\"fa-caret-right\"))\n\t\t        {\n\t\t            spanelement.addClass(\"fa-caret-down\");\n\t\t            spanelement.removeClass(\"fa-caret-right\");\n\t\t            var wrapperspecificr = $( this ).parents(':eq(3)');\n\t\t            var labelSectionshow= wrapperspecificr.find('.subpagetitle');\n\t\t            labelSectionshow.addClass(\"ShowTable\");\n            \t    labelSectionshow.removeClass(\"HideTable\");\n\t\t            wrapperspecificr.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'block';\n\t\t           \n\t\t        }\n\t\t    \n                \n            });\n            \n        skuid.$( \".subpagetitle\").click(function() {\n        \t  currentelement =  $( this );\n        \t  console.log('test this toggle  : ' +currentelement.hasClass(\"ShowTable\"));\n        \t  if(currentelement.hasClass(\"ShowTable\"))\n        \t  {\n            \t  currentelement.addClass(\"HideTable\");\n            \t  currentelement.removeClass(\"ShowTable\");\n    \t          thiswrapper = $( this ).parents(':eq(2)');\n    \t          console.log('thiswrapper  class : ' +thiswrapper.hasClass(\"sk-wrapper\"));\n    \t          var toggleicon = thiswrapper.find('.onclickToggleIcon');\n    \t          var spanToggleicon = toggleicon.find('span');\n    \t           spanToggleicon.addClass(\"fa-caret-right\");\n\t\t           spanToggleicon.removeClass(\"fa-caret-down\");\n    \t          thiswrapper.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'none';\n        \t  }\n        \t  else if(currentelement.hasClass(\"HideTable\"))\n        \t  {\n            \t  currentelement.addClass(\"ShowTable\");\n            \t  currentelement.removeClass(\"HideTable\");\n                  wrapperspecificr = $( this ).parents(':eq(2)');\n                  console.log('wrapperspecificr  class : ' +wrapperspecificr.hasClass(\"sk-wrapper\"));\n                  var toggleiconAdd = wrapperspecificr.find('.onclickToggleIcon');\n                  console.log('toggleiconAdd  class : ' +toggleiconAdd.hasClass(\"onclickToggleIcon\"));\n    \t          var spanToggleiconAdd = toggleiconAdd.find('span');\n    \t           spanToggleiconAdd.addClass(\"fa-caret-down\");\n\t\t           spanToggleiconAdd.removeClass(\"fa-caret-right\");\n                    console.log('I am at the last');\n\t\t            wrapperspecificr.find('.Togglesection').find('.sk-wrapper')[0].style.display = 'block';\n        \t  }\n        \t  \n        });\n        \n        function errorNoPayrollIdResponse() {\n                        var pageTitle = $('#ErrorEmployeesContractorsId');\n                        console.log('I am in the Error Message for taxes ');\n                        console.log('pageTitle  : ' +pageTitle);\n                        var editor = pageTitle.data('object').editor;\n                        editor.handleMessages(\n                          [\n                             {\n                                 message: 'Not able to find any Payroll Data. Please contact Administrator!',\n                                 severity: 'ERROR'\n                             }\n                           ]\n                        );\n                    }\n\t});\n})(skuid);</jsitem></javascript><css><cssitem location=\"inline\" name=\"newcss\" cachelocation=\"false\">.newCompany .TABLE.sfdc TD{\n        margin-left: 150px\n}</cssitem></css></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]