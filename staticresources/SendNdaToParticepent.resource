[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000DPSKAA4"},"Id":"a2f19000000DPSKAA4","Name":"SendNdaToParticepent","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_SendNdaToParticepent","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":"a2f19000000DNGdAAO","skuid__MasterPage__r":{"attributes":{"type":"skuid__Page__c","url":"/services/data/v36.0/sobjects/skuid__Page__c/a2f19000000DNGdAAO"},"Name":"StudioHome","skuid__UniqueId__c":"_StudioHome"},"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" theme=\"Intuit studio\"><models><model id=\"NDA\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Studio_NDA__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"Name\"/></fields><conditions/><actions/></model><model id=\"NDADocument\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" type=\"\" sobject=\"Studio_NDA__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"NDA_Document__c\"/><field id=\"Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"fieldvalue\" value=\"\" enclosevalueinquotes=\"true\" field=\"Name\" operator=\"=\"/></conditions><actions/></model><model id=\"Participants\" limit=\"100\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"Participants__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"Last_Name__c\"/><field id=\"Email__c\"/><field id=\"Name\"/><field id=\"NDA_Document__r.NDA_Document__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" readonly=\"true\" returntype=\"TEXT\"/><field id=\"NDA_Document__c\"/><field id=\"NDA_Document__r.Name\"/><field id=\"Id\"/><field id=\"NDA_Signed__c\"/><field id=\"NDA_Signed_Date__c\" overridemetadata=\"true\" ogdisplaytype=\"DATE\" displaytype=\"DATE\" readonly=\"true\" returntype=\"TEXT\"><formula>FORMAT_DATE('MM-dd-yyyy',date)</formula></field><field id=\"NDASendDate__c\"/><field id=\"NDASenderEmail__c\"/><field id=\"NDASenderFirstName__c\"/></fields><conditions/><actions/></model><model id=\"ParticipantsDummy\" limit=\"100\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"Participants__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"Last_Name__c\"/><field id=\"Email__c\"/><field id=\"Name\"/><field id=\"NDA_Document__r.NDA_Document__c\" overridemetadata=\"false\" ogdisplaytype=\"TEXTAREA\" displaytype=\"TEXTAREA\" readonly=\"true\" returntype=\"TEXT\"/><field id=\"NDA_Document__c\"/><field id=\"NDA_Document__r.Name\"/><field id=\"Id\"/><field id=\"NDA_Signed__c\"/><field id=\"NDA_Signed_Date__c\"/><field id=\"NDASendDate__c\"/><field id=\"NDASenderEmail__c\"/><field id=\"NDASenderFirstName__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Email__c\" operator=\"in\" model=\"Participants\" enclosevalueinquotes=\"true\" mergefield=\"Email__c\" novaluebehavior=\"deactivate\"/></conditions><actions/></model><model id=\"ParticipantsNDANotSigned\" limit=\"100\" query=\"false\" createrowifnonefound=\"false\" type=\"\" sobject=\"Participants__c\" doclone=\"\" unloadwarningifunsavedchanges=\"false\" datasource=\"salesforce\"><fields><field id=\"Name\"/><field id=\"Last_Name__c\"/><field id=\"NDA_Document__c\"/><field id=\"NDA_Document__r.Name\"/><field id=\"NDA_Signed_Date__c\"/><field id=\"NDA_Signed__c\"/><field id=\"Email__c\"/><field id=\"NDASendDate__c\"/><field id=\"NDASenderEmail__c\"/><field id=\"NDASenderFirstName__c\"/></fields><conditions logic=\"\"><condition type=\"modelmerge\" value=\"\" field=\"Email__c\" operator=\"in\" model=\"ParticipantsDummy\" enclosevalueinquotes=\"true\" mergefield=\"Email__c\" novaluebehavior=\"noquery\" state=\"\"/></conditions><actions/></model></models><pageregioncontents><pageregioncontent regionid=\"sk-Ztodg-231\" uniqueid=\"sk-2Xs0qs-96\"><components><template multiple=\"false\" uniqueid=\"sk-3c998h-164\" allowhtml=\"true\"><contents>&lt;a href=\"/apex/skuid__ui?page=StudioLandingPage\"&gt;Home&lt;/a&gt; &gt; &lt;a href=\"/apex/skuid__ui?page=Information\"&gt;Information&lt;/a&gt; &gt; Add Participants</contents></template><grid uniqueid=\"sk-2xiSd6-207\"><divisions><division behavior=\"flex\" minwidth=\"15%\" ratio=\"1\" verticalalign=\"top\"><components/></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"70%\" ratio=\"1\"><components><grid uniqueid=\"sk-2Y4alF-1142\"><divisions><division behavior=\"specified\" verticalalign=\"top\" width=\"35%\"><components><wrapper uniqueid=\"sk-2Y9eOY-1699\"><components><template multiple=\"false\" uniqueid=\"sk-2Y4nXY-1165\" allowhtml=\"true\"><contents>MNDRA Document</contents></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"left,top,\"><styles><styleitem property=\"padding-left\" value=\"55%\"/><styleitem property=\"padding-top\" value=\"5px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components></division><division behavior=\"specified\" verticalalign=\"top\" width=\"65%\"><components><template multiple=\"false\" uniqueid=\"sk-2Y4mjZ-1161\" allowhtml=\"true\"><contents>&lt;select class=\"ndaNames\"&gt;&lt;/select&gt;</contents><renderconditions logictype=\"and\"/></template></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><renderconditions logictype=\"and\"/></grid><wrapper uniqueid=\"sk-2Y7oqe-1658\"><components><template multiple=\"false\" uniqueid=\"NDADocument\" model=\"NDADocument\" cssclass=\"ndaDocCSS\"><contents>{{NDA_Document__c}}</contents><renderconditions logictype=\"and\"/></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" borders=\"all\" padding=\"bottom,top,\" margin=\"top,\"><styles><styleitem property=\"border\" value=\"2px solid black\"/><styleitem property=\"padding-top\" value=\"10px\"/><styleitem property=\"padding-bottom\" value=\"10px\"/><styleitem property=\"margin-top\" value=\"5%\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\" height=\"custom\" width=\"full\"><styles><styleitem property=\"min-height\" value=\"400px\"/><styleitem property=\"max-height\" value=\"400px\"/><styleitem property=\"overflow-y\" value=\"auto\"/></styles></styleitem></styles><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"NDADocument\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"NDA_Document__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions></wrapper><wrapper uniqueid=\"sk-2xpeRu-224\"><components><template multiple=\"false\" uniqueid=\"sk-3hF2Fo-260\" allowhtml=\"true\"><renderconditions logictype=\"and\"/><contents>&lt;b style='color:red'&gt;Note: All fields are required.&lt;/b&gt;</contents></template><template multiple=\"false\" uniqueid=\"sk-59dLO-160\" allowhtml=\"true\" cssclass=\"duplicateError\"><contents/></template><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"all\" createrecords=\"true\" model=\"Participants\" buttonposition=\"\" mode=\"edit\" uniqueid=\"participentRecordTable\" instantfilters=\"false\" emptysearchbehavior=\"query\" allowscrollbars=\"false\" floatheader=\"true\" cssclass=\"infoTable\"><fields><field id=\"Name\" valuehalign=\"\" type=\"\" required=\"true\" uniqueid=\"fi-34cJ2D-220\"/><field id=\"Last_Name__c\" valuehalign=\"\" type=\"\" required=\"true\" uniqueid=\"fi-34cJ2D-221\"/><field id=\"Email__c\" valuehalign=\"\" type=\"\" cssclass=\"email\" uniqueid=\"fi-34cJ2D-222\"/></fields><rowactions><action type=\"multi\" label=\"Cancel\" icon=\"sk-icon-cancel\"><actions><action type=\"custom\" snippet=\"cancelParticipentRow\"/></actions><renderconditions logictype=\"and\"/></action></rowactions><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><searchfields usesosl=\"false\" soslfields=\"Name Fields\"/><renderconditions logictype=\"and\"/><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"/></skootable><pagetitle uniqueid=\"sk-2xphXU-239\" model=\"Participants\" cssclass=\"submitButtons\"><actions><action type=\"multi\" label=\"Submit\" cssclass=\"submitButton\"><actions><action type=\"emptyModelData\"><models><model>ParticipantsDummy</model></models></action><action type=\"requeryModels\" model=\"ParticipantsDummy\" behavior=\"standard\"><models><model>ParticipantsDummy</model><model>ParticipantsNDANotSigned</model></models></action><action type=\"custom\" snippet=\"removeEmptyRows\"><onerroractions/></action></actions><hotkeys/><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"Participants\" sourcetype=\"fieldvalue\" field=\"Email__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions logictype=\"and\" logic=\"1\" message=\"\"><condition type=\"blank\" operator=\"!=\" fieldmodel=\"Participants\" sourcetype=\"fieldvalue\" field=\"Name\" value=\"null\" enclosevalueinquotes=\"false\"/><condition type=\"blank\" operator=\"!=\" fieldmodel=\"Participants\" sourcetype=\"fieldvalue\" field=\"Last_Name__c\" value=\"null\" enclosevalueinquotes=\"false\"/><condition type=\"fieldvalue\" enclosevalueinquotes=\"true\" fieldmodel=\"Participants\" sourcetype=\"modelproperty\" sourceproperty=\"hasRows\"/></enableconditions></action><action type=\"multi\" label=\"popupButton\" cssclass=\"popupButton\" icon=\"\"><actions><action type=\"showPopup\"><popup title=\"Thank You\" width=\"40%\"><components><template multiple=\"false\" uniqueid=\"sk-4bumT-687\"><contents>We have sent Intuitâ€™s Mutual Non-Disclosure and Release Agreement to your participants. Once they have signed it, we will notify you via email. \n\nThank you,\nIntuit Studio Team\n</contents></template></components><afterclose><action type=\"redirect\" window=\"self\" url=\"apex/skuid__ui?page=StudioLandingPage\"/></afterclose></popup></action></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/><hotkeys/></action></actions><renderconditions logictype=\"and\"/></pagetitle></components><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles><renderconditions logictype=\"and\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"NDADocument\" sourcetype=\"fieldvalue\" nosourcerowbehavior=\"skipandnorender\" field=\"NDA_Document__c\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions></wrapper></components></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"15%\" ratio=\"1\"><components/></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles><renderconditions logictype=\"and\"/></grid></components></pageregioncontent></pageregioncontents><components/><resources><labels/><css><cssitem location=\"inline\" name=\"NDACss\" cachelocation=\"false\">.ndaNames{\n    width:70%;\n}\n#participentRecordTable .nx-list-footer{\n    display:none;\n}\n\n.nx-editor input,.nx-editor .required input, .nx-editor .required textarea,.nx-editor select,.nx-editor .required select,.nx-editor .required [type=button].ui-multiselect,.nx-editor .required select,.nx-editor [type=button].ui-multiselect{\n   border: 1px solid #c7c7cc;  \n   border-radius: 4px;\n   background-color: #ffffff;\n}\n\n.nx-field:focus, .nx-field input:focus, .nx-field textarea:focus {\n    border-color: #548dd4;\n    outline: 0;\n    outline-offset: -2px;\n}\n\n.nx-editor input,.nx-editor .required input, .nx-editor .required textarea,.nx-editor select,.nx-editor .required select,.nx-editor .required [type=button].ui-multiselect,.nx-editor .required select,.nx-editor [type=button].ui-multiselect{\n   border: 1px solid #c7c7cc;  \n   border-radius: 4px;\n   background-color: #ffffff;\n}\n\n.nx-field:focus, .nx-field input:focus, .nx-field textarea:focus {\n    border-color: #548dd4;\n    outline: 0;\n    outline-offset: -2px;\n}\n\n.nx-error-inline{\n       display: block\n}\n\n.submitButton{\n    background: #f0640f ;\n    border: 1px solid #f0640f;\n}\n.popupButton, .submitButtons .nx-error,.infoTable .nx-error{\n    display:none !important;\n} </cssitem></css><javascript><jsitem location=\"staticresource\" name=\"EscapeHtml\" cachelocation=\"false\" url=\"\" namespace=\"\" content_type=\"application/javascript\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem><jsitem location=\"inline\" name=\"NDAParticepentCSS\" cachelocation=\"false\" url=\"\">var $ = skuid.$;\n                \n                $(document.body).one('pageload',function(){\n                    updateNdaNameSelect();\n                   });\n                \n                function updateNdaNameSelect(){\n                     var ndaModel = skuid.model.getModel('NDA');\n                     var options = '&lt;option&gt;--None--&lt;/option&gt;';\n                    $.each(ndaModel.data,function(index,value){\n                        options += '&lt;option value=\"'+value.Name+'\" &gt;'+value.Name+'&lt;/option&gt;';\n                       \n                    })\n                    $('.ndaNames').html(options);\n                    \n                    addNDANameChangeEvent();\n                    \n                   \n                }\n                \n                function addNDANameChangeEvent(){\n                    $('.ndaNames').change(function(){\n                        skuid.$.blockUI({ message: 'Loading NDA Document' + $('.ndaNames').val() +'...' });\n                        var ndaModel = skuid.model.getModel('NDADocument');\n                        ndaModel.conditions[0].value = $('.ndaNames').val();\n                        skuid.model.updateData([ndaModel],function(result){\n                            skuid.$.blockUI({ message: 'Loading NDA Document' + $('.ndaNames').val() +'...', timeout: 1 });\n                            $('.ndaDocCSS, .nx-editor, .nx-editor-contents-template, .nx-template, .nx-field,.nx-fieldtext').scrollTop(0);\n                        \n                        });\n                    });\n                    \n                    createTwoRows();\n                    \n                }\n                \n                function createTwoRows(){\n                    var participantModel = skuid.model.getModel('Participants');\n                    participantModel.createRow({\n                        additionalConditions: [\n                         ], doAppend: true\n                    });\n                    participantModel.createRow({\n                        additionalConditions: [\n                          ], doAppend: true\n                    });\n                  }</jsitem><jsitem location=\"inlinesnippet\" name=\"cancelParticipentRow\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\n\nvar participantModel = skuid.model.getModel('Participants');\nparticipantModel.removeRowById(params.row.Id);\n$(params.item.element).remove();\n\n/*\nSRS-678\nif(participientModel.data.length&gt;=0){\n    $('.submitButton').css('disable','disabled');\n}*/</jsitem><jsitem location=\"inlinesnippet\" name=\"removeEmptyRows\" cachelocation=\"false\">var params = arguments[0];\n                    $ = skuid.$;\n                    var data = JSON.parse($.cookie('userInformation'));\n                    var ParticipantModel = skuid.model.getModel('Participants');\n                    var ParticipantDummy = skuid.model.getModel('ParticipantsDummy');\n                    var ndaModel = skuid.model.getModel('NDADocument');\n                    var successResult=false;\n                    var showError=false;\n                    var showPopup=false;\n                    var NDASignedText;\n                    var invalidNameInfo;\n                    var NewParticipantrowsToUpdate = {};\n                    var ndaDoc;\n                    \t\n                    $(document).ready(function(){\n                       removeEmptyRows();\n                    });\n                    \n                    /*\n                    * SRS- 678\n                    * Description - Unable to send NDA from the Customer Connect Portal\n                    * Start\n                    */\n                    \n                    function removeEmptyRows() {\n                        \n                    \t$.blockUI({ message: '&lt;div&gt;Please wait&lt;/div&gt;' });\n                    \tvar removeRows = [];\n                    \t\n                    \t// To Remove the emptyRow from the page\n                    \t$.each(ParticipantModel.data, function(i, row){\n                    \t\t\n                    \t\tvar email= $.trim(row.Email__c);\n                    \t\tvar name= $.trim(row.Name);\n                    \t\tvar lastname= $.trim(row.Last_Name__c);\n                    \t\t\n                    \t\tif(typeof email == \"undefined\" || email == \"\" ) {\n                    \t\t\tif((typeof lastname == \"undefined\" || lastname == \"\") &amp;&amp; (typeof name == \"undefined\" ||  name == \"\")){\n                    \t\t\t\tremoveRows.push(row.Id);\n                    \t\t\t}\n                    \t\t}\n                    \t\telse{\n                    \t\t\tif((typeof lastname == \"undefined\" || lastname=='') || (typeof name == \"undefined\" ||  name=='')){\n                    \t\t\t\t\t showError=true;\n                    \t\t\t\t\t  $.unblockUI();\n                    \t\t\t}\n                    \t\t}  \n                    \t});\n                            \n                    \tfor(var i in removeRows){\n                    \t\tParticipantModel.removeRowById(removeRows[i]);\n                    \t}\n                            \n                            \n                    \tif(ParticipantModel.data.length&gt;0){\n                    \t\t\n                    \t\tif(showError==false)\n                    \t\t {\n                    \t\t\t$('.duplicateError').empty(); \n                    \t\t\taddNDAValue();\n                    \t\t}\n                       \n                    \t\t\n                    \t\telse\n                    \t\t{\n                    \t\t   $.unblockUI();\n                    \t\t   $('.duplicateError').empty();\n                    \t\t   // To display the Error message if First Name and Last name are not filled by user\n                    \t\t   invalidNameInfo=\"Please enter valid FIRST NAME/ LAST NAME\";\n                    \t\t   \n                    \t\t   $('.duplicateError').append(invalidNameInfo).css('color','red');\n                    \t\t   $('.duplicateError').css({\"display\":\"block\"});\n                    \t\t}\n                    \t\t\n                    \t   \n                    \t}\n                    }\n                        \n                    function addNDAValue()\n                    {\n                        // To remove the previous error message\n                    \t$('.duplicateError').empty();\n                    \t$('.duplicateError').css({\"display\":\"none\"});\n                       \n                    \t\n                    \t$.each(ndaModel.data, function(i,ndaRow){\n                    \t\tif(ndaRow.Name==$('.ndaNames').val())\n                    \t\t{\n                    \t\t\tndaDoc=ndaRow;\n                    \t\t}\n                    \t});\n                    \n                    \tNewParticipantrowsToUpdate = {};\n                        var newParticipantData = ParticipantModel.getRows();\n                        \n                        // To update the NDA document, NDASendDate and replacing symbols with characters from first name and last name\n                    \t$.each(newParticipantData, function(index,value) {\n                    \tNewParticipantrowsToUpdate[this.Id] = { 'NDA_Document__c': ndaDoc.Id,\n                    \t\t\t\t\t\t\t'NDASendDate__c': new Date(),\n                    \t\t\t\t\t\t\t'Last_Name__c': escapeHtml(value.Last_Name__c),\n                    \t\t\t\t\t\t\t'Name': escapeHtml(value.Name),\n                    \t\t\t\t\t\t\t'NDASenderEmail__c':data['mail'],\n                    \t\t\t\t\t\t\t'NDAsenderFirstName__c':data['givenname']\n                    \t                        };\n                    \t});\n                    \t\n                    \t\n                    \tupdateParticipants();\n                    }\n                        \n                     function updateParticipants()\n                    {\n                    \n                    \t\tvar participantNDANotSignedModel = skuid.model.getModel('ParticipantsNDANotSigned');\n                    \t\tvar ndaModel = skuid.model.getModel('NDADocument');\n                    \t\n                    \t\tvar insertNewRecords = true;\n                    \t\tvar rowsToUpdate = {};\n                    \t\tvar pSignNdaCount = 0;\n                    \t\tNDASignedText='';\n                    \n                    \t\t$.each(participantNDANotSignedModel.getRows(), function(){\n                    \t\t    \n                    \t\t // Checking if NDA is signed or Not if signed then update NDA document and NDASendDate   \n                    \t\t\tif(this.NDA_Signed__c==false)\n                    \t\t\t{\n                    \t\t\t\trowsToUpdate[this.Id] = { 'NDA_Document__c': ndaDoc.Id ,\n                    \t\t\t\t    'NDASendDate__c': new Date(),\n                    \t\t\t\t    'NDASenderEmail__c':data['mail'],\n                    \t\t\t\t\t'NDAsenderFirstName__c':data['givenname']\n                    \t\t\t\t};\n                    \t\t\t}\n                    \t\t\t\n                    \t\t\telse\n                    \t\t\t{\n                    \t\t\t    pSignNdaCount++;\n                    \t\t\t    insertNewRecords = false;\n                    \t\t\t\tif(this.NDA_Signed__c==true){\n                    \t\t\t\t\tshowError=true;\n                    \t\t\t\t\n                    \t\t\t\t\tif(NDASignedText==undefined){\n                    \t\t\t\t\t\tNDASignedText= \"&lt;br/&gt;\"+this.Name+\" \"+this.Last_Name__c + \" already has a valid NDA on file.\";\n                    \t\t\t\t\t}\n                    \t\t\t\t\telse{\n                    \t\t\t\t\t\tNDASignedText=NDASignedText+ \"&lt;br/&gt;\"+this.Name+\" \"+this.Last_Name__c + \" already has a valid NDA on file.\";\n                    \t\t\t\t\t}\n                    \t\t\t\t}\n                    \t\t\t}\n                    \t\t\n                    \t\t});\n                    \t\t\n                    \t\tif(insertNewRecords){\n                    \t\t \n                    \t\tParticipantModel.updateRows( NewParticipantrowsToUpdate );\n                    \t\tParticipantModel.save({callback: function(result){\n                    \n                    \t\t$.each(ParticipantModel.data, function(i,partRow){\n                    \t\t\tif(typeof partRow.Id15 !='undefined'){\n                    \t\t\t\tsuccessResult=true;\n                    \t\t\t}\n                    \t\t});\n                    \t\t\t\t\t\n                    \t\t\t$.unblockUI();\n                    \t\t\tif(successResult==true &amp;&amp; ParticipantDummy.data.length==0)\n                    \t\t\t{\n                    \t\t\t\tshowPopup=true;\n                    \t\t\t\t$('.popupButton').click();\n                    \t\t\t}\t\t\n                    \t\t\t\n                    \t\t}\n                    \t\t});\n                    \t\tparticipantNDANotSignedModel.updateRows(rowsToUpdate);\n                    \t\tparticipantNDANotSignedModel.save({callback: function(result){\n                    \t\t\n                    \t\t\tvar errorMessage='';\n                    \t\t\t \n                    \t\t\tif(participantNDANotSignedModel.data.length&gt;0){\n                    \t\t\t\tshowPopup=true; \n                    \t\t\t}\n                    \t\t\t\n                    \t\t\tif(showPopup &amp; showError==false)\n                    \t\t\t{\n                    \t\t\t   $.unblockUI();\n                    \t\t\t   $('.popupButton').click();\n                    \t\t\t}\n                    \t\t\t}\n                    \t\t});\n                    \t\t}else{\n                    \t\t    \n                    \t\t    if(invalidNameInfo!=undefined){\n                    \t\t\t\terrorMessage=invalidNameInfo+'&lt;br/&gt;';\n                    \t\t\t\t if(NDASignedText!=undefined){\n                    \t\t\t\t\t errorMessage=errorMessage+NDASignedText;\n                    \t\t\t\t }\n                    \t\t\t }\n                    \t\t\t // Checking if any one of the participant is valid then displaying below error message\n                    \t\t\telse if(NDASignedText!=undefined &amp;&amp; ParticipantModel.data.length != pSignNdaCount){\n                    \t\t\t\terrorMessage=NDASignedText+'&lt;br/&gt;';\n                    \t\t\t\terrorMessage +='Please remove them from this list, and click Submit to send the NDA to the other participants.';\n                    \t\t\t}\n                    \t\t\telse if(NDASignedText!=undefined ){\n                    \t\t\t    errorMessage=NDASignedText;\n                    \t\t\t}\n                    \t\t\t$.trim(errorMessage);\n                    \t\t\tif(errorMessage!=undefined){\n                    \t\t\t\t$('.duplicateError').append(errorMessage).css('color','red');\n                    \t\t\t}\n                    \t\t    \n                    \t\t    if(showError){\n                    \t\t\t\t$.unblockUI();\n                    \t\t\t\t$('.duplicateError').css({\"display\":\"block\"});\n                    \t\t\t}\n                    \t\t    $.unblockUI();\n                    \t\t}\n                    \t\n                    }\n                    //END    </jsitem></javascript></resources></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]