<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <validationRules>
        <fullName>Advance_Filter_Validation</fullName>
        <active>true</active>
        <errorConditionFormula>OR (
AND ( Use_Advanced_Filter__c  = True,
      ISBLANK(Advanced_Filter__c) ), 
AND ( Use_Advanced_Filter__c  = False,
      NOT(ISBLANK(Advanced_Filter__c)) ) )</errorConditionFormula>
        <errorDisplayField>Advanced_Filter__c</errorDisplayField>
        <errorMessage>Populate &quot;Advance Filter&quot; when &quot;Use Advance Filter&quot; checkbox is checked.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Distribution_QueueId_Validation</fullName>
        <active>true</active>
        <errorConditionFormula>AND (  Use_Distribution_Queue_User__c = False,
           OR(ISBLANK(Distribution_Queue_ID__c ), 
              NOT (ISBLANK(Distribution_Queue_User__c) ) ) )</errorConditionFormula>
        <errorDisplayField>Distribution_Queue_ID__c</errorDisplayField>
        <errorMessage>When &quot;Use Distribution Queue User &quot; is unchecked, &quot;Distribution Queue ID&quot; should be populated and &quot;Distribution Queue User&quot; should be blank.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Distribution_Queue_User_Validation</fullName>
        <active>true</active>
        <errorConditionFormula>AND (  Use_Distribution_Queue_User__c = True,
           OR(ISBLANK(Distribution_Queue_User__c ), 
              NOT (ISBLANK( Distribution_Queue_ID__c ) ) ) )</errorConditionFormula>
        <errorDisplayField>Distribution_Queue_User__c</errorDisplayField>
        <errorMessage>When &quot;Use Distribution Queue User &quot; is checked, &quot;Distribution Queue User&quot; should be populated and &quot;Distribution Queue ID&quot; should be blank.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Distributor_Activation_Validation_Insert</fullName>
        <active>true</active>
        <errorConditionFormula>AND(Id = Null,  Is_Active__c = true)</errorConditionFormula>
        <errorDisplayField>Is_Active__c</errorDisplayField>
        <errorMessage>Distributor cannot be activated until Filter details and Member Distribution(s) are added. Please unckeck Active checkbox to create distributor record.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Distributor_Activation_Validation_Update</fullName>
        <active>true</active>
        <errorConditionFormula>AND(Id != Null,  
    PRIORVALUE(Is_Active__c)= false, 
    Is_Active__c = true, 
    ISBLANK(Advanced_Filter__c), 
    ISBLANK(Compiled_Filter__c ))</errorConditionFormula>
        <errorDisplayField>Is_Active__c</errorDisplayField>
        <errorMessage>Distributor cannot be activated until either of advance or compiled filter is populated. Please fill Filter detail field, and then check the Active checkbox.</errorMessage>
    </validationRules>
    <webLinks>
        <fullName>Validate_Query</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Validate Query</masterLabel>
        <openType>sidebar</openType>
        <page>AMX_DistributorQuery</page>
        <protected>false</protected>
    </webLinks>
</CustomObject>
